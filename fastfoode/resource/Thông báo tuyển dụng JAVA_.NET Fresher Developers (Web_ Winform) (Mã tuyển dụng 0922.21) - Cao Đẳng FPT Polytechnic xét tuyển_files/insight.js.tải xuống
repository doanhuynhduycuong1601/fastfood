/* 
 project: CDP-365 SDK
 Reserved: @Copyright 2017-2022 Antsomi
 ver: v10.4
 date: 20230216
 change log: PageTitle, VisitorType, Fixed line_items, CustomExtra, ITM ,postMessageEvent, ATM, Identify type, Journey Setting Script
 */
"object"!==typeof JSON2&&(JSON2={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(d,e){var f,k,l,n,h=g,x,s=e[d];s&&"object"===typeof s&&(f=s,l=Object.prototype.toString.apply(f),s="[object Date]"===l?isFinite(f.valueOf())?f.getUTCFullYear()+"-"+a(f.getUTCMonth()+1)+"-"+a(f.getUTCDate())+"T"+a(f.getUTCHours())+":"+a(f.getUTCMinutes())+":"+a(f.getUTCSeconds())+"Z":null:"[object String]"===l||"[object Number]"===l||"[object Boolean]"===l?f.valueOf():"[object Array]"!==l&&"function"===typeof f.toJSON?f.toJSON(d):f);"function"===typeof r&&(s=r.call(e,d,s));switch(typeof s){case"string":return b(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";g+=p;x=[];if("[object Array]"===Object.prototype.toString.apply(s)){n=s.length;for(f=0;f<n;f+=1)x[f]=c(f,s)||"null";l=0===x.length?"[]":g?"[\n"+g+x.join(",\n"+g)+"\n"+h+"]":"["+x.join(",")+"]";g=h;return l}if(r&&"object"===typeof r)for(n=r.length,f=0;f<n;f+=1)"string"===typeof r[f]&&(k=r[f],(l=c(k,s))&&x.push(b(k)+(g?": ":":")+l));else for(k in s)Object.prototype.hasOwnProperty.call(s,k)&&(l=c(k,s))&&x.push(b(k)+(g?": ":":")+l);l=0===x.length?"{}":g?"{\n"+g+x.join(",\n"+g)+"\n"+h+"}":"{"+x.join(",")+"}";g=h;return l}}var d=RegExp("[\x00\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),e=RegExp('[\\\\\\"\x00-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',"g"),g,p,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;"function"!==typeof JSON2.stringify&&(JSON2.stringify=function(a,b,d){var e;p=g="";if("number"===typeof d)for(e=0;e<d;e+=1)p+=" ";else"string"===typeof d&&(p=d);if((r=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON2.stringify");return c("",{"":a})});"function"!==typeof JSON2.parse&&(JSON2.parse=function(a,b){function c(a,d){var e,g,s=a[d];if(s&&"object"===typeof s)for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(g=c(s,e),void 0!==g?s[e]=g:delete s[e]);return b.call(a,d,s)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON2.parse");})})();"object"!==typeof _paqAcdp&&(_paqAcdp=[]);"object"!==typeof PiwikAcdp&&(PiwikAcdp=function(){function a(a){return"undefined"!==typeof a}function b(a){return"function"===typeof a}function c(a){return"object"===typeof a}function d(a){return"string"===typeof a||a instanceof String}function e(){var a,b,c;for(a=0;a<arguments.length;a+=1)c=arguments[a],b=c.shift(),d(b)?D[b].apply(D,c):b.apply(D,c)}function g(a,b,c,d){if(a.addEventListener)return a.addEventListener(b,c,d),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c}function p(a,c){var d="",e,h;for(e in ia)Object.prototype.hasOwnProperty.call(ia,e)&&(h=ia[e][a],b(h)&&(d+=h(c)));return d}function f(){var a;if(!Q)for(Q=!0,p("load"),a=0;a<I.length;a++)I[a]();return!0}function r(a,b){var c=m.createElement("script");c.type="text/javascript";c.src=a;c.readyState?c.onreadystatechange=function(){var a=this.readyState;if("loaded"===a||"complete"===a)c.onreadystatechange=null,b()}:c.onload=b;m.getElementsByTagName("head")[0].appendChild(c)}function A(){var a="";try{a=t.top.document.referrer}catch(b){if(t.parent)try{a=t.parent.document.referrer}catch(c){a=""}}""===a&&(a=m.referrer);return a}function u(a){return(a=/^([a-z]+):/.exec(a))?a[1]:null}function v(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a}function k(a,b){var c=RegExp("[\\?&#]"+b+"=([^&#]*)").exec(a);return c?R(c[1]):""}function l(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",q,c;for(q=7;0<=q;q--)c=a>>>4*q&15,b+=c.toString(16);return b},d,e,h=[],m=1732584193,s=4023233417,g=2562383102,f=271733878,x=3285377520,k,l,E,n,G,p=[];a=ga(z(a));k=a.length;for(d=0;d<k-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),p.push(e);switch(k&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(k-1)<<24|8388608;break;case 2:d=a.charCodeAt(k-2)<<24|a.charCodeAt(k-1)<<16|32768;break;case 3:d=a.charCodeAt(k-3)<<24|a.charCodeAt(k-2)<<16|a.charCodeAt(k-1)<<8|128}for(p.push(d);14!==(p.length&15);)p.push(0);p.push(k>>>29);p.push(k<<3&4294967295);for(a=0;a<p.length;a+=16){for(d=0;16>d;d++)h[d]=p[a+d];for(d=16;79>=d;d++)h[d]=b(h[d-3]^h[d-8]^h[d-14]^h[d-16],1);e=m;k=s;l=g;E=f;n=x;for(d=0;19>=d;d++)G=b(e,5)+(k&l|~k&E)+n+h[d]+1518500249&4294967295,n=E,E=l,l=b(k,30),k=e,e=G;for(d=20;39>=d;d++)G=b(e,5)+(k^l^E)+n+h[d]+1859775393&4294967295,n=E,E=l,l=b(k,30),k=e,e=G;for(d=40;59>=d;d++)G=b(e,5)+(k&l|k&E|l&E)+n+h[d]+2400959708&4294967295,n=E,E=l,l=b(k,30),k=e,e=G;for(d=60;79>=d;d++)G=b(e,5)+(k^l^E)+n+h[d]+3395469782&4294967295,n=E,E=l,l=b(k,30),k=e,e=G;m=m+e&4294967295;s=s+k&4294967295;g=g+l&4294967295;f=f+E&4294967295;x=x+n&4294967295}G=c(m)+c(s)+c(g)+c(f)+c(x);return G.toLowerCase()}function n(a,b,c){if("translate.googleusercontent.com"===a)""===c&&(c=b),b=k(b,"u"),a=v(b);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))b=m.links[0].href,a=v(b);return[a,b,c]}function h(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function x(b){b=b&&b.text?b.text:b;if(!d(b)){var c=m.getElementsByTagName("title");c&&a(c[0])&&(b=c[0].text)}return b}function s(b){return b?!a(b.children)&&a(b.childNodes)||a(b.children)?b.children:[]:[]}function U(b,c){if(b&&b.indexOf)return b.indexOf(c);if(!a(b)||null===b||!b.length)return-1;var d=b.length;if(0===d)return-1;for(var e=0;e<d;){if(b[e]===c)return e;e++}return-1}function E(b){function c(a,b){if(t.getComputedStyle)return m.defaultView.getComputedStyle(a,null)[b];if(a.currentStyle)return a.currentStyle[b]}function d(e,h,s,g,k,f,l){var x=e.parentNode,E;a:{for(E=e.parentNode;E;){if(E===m){E=!0;break a}E=E.parentNode}E=!1}if(!E)return!1;if(9===x.nodeType)return!0;if("0"===c(e,"opacity")||"none"===c(e,"display")||"hidden"===c(e,"visibility"))return!1;a(h)&&a(s)&&a(g)&&a(k)&&a(f)&&a(l)||(h=e.offsetTop,k=e.offsetLeft,g=h+e.offsetHeight,s=k+e.offsetWidth,f=e.offsetWidth,l=e.offsetHeight);if(b===e&&(0===l||0===f)&&"hidden"===c(e,"overflow"))return!1;if(x){if("hidden"===c(x,"overflow")||"scroll"===c(x,"overflow"))if(k+1>x.offsetWidth+x.scrollLeft||k+f-1<x.scrollLeft||h+1>x.offsetHeight+x.scrollTop||h+l-1<x.scrollTop)return!1;e.offsetParent===x&&(k+=x.offsetLeft,h+=x.offsetTop);return d(x,h,s,g,k,f,l)}return!0}return b?d(b):!1}function ja(a,b){if(b)return b;"piwik.php"===a.slice(-9)&&(a=a.slice(0,a.length-9));return a}function G(a){var b=/index\.php\?module=Overlay&action=startOverlaySession&prop_id=([0-9]+)&period=([^&]+)&date=([^&]+)$/.exec(m.referrer);if(b){if(b[1]!==String(a))return!1;t.name="Piwik_Overlay###"+b[2]+"###"+b[3]}a=t.name.split("###");return 3===a.length&&"Piwik_Overlay"===a[0]}function Lb(a,b,c){var d=t.name.split("###"),e=d[1],h=d[2],m=ja(a,b);r(m+"plugins/Overlay/client/client.js?v=1",function(){Piwik_Overlay_Client.initialize(m,c,e,h)})}function ba(q,e){function s(a,b,c,d,q,e){if(!Y){var h;c&&(h=new Date,h.setTime(h.getTime()+c));m.cookie=a+"="+z(b)+(c?";expires="+h.toGMTString():"")+";path="+(d||"/")+(q?";domain="+q:"")+(e?";secure":"")}}function f(a){return Y?0:(a=RegExp("(^|;)[ ]*"+a+"=([^;]*)").exec(m.cookie))?R(a[2]):0}function ja(a){var b;return fb?(b=/#.*/,a.replace(b,"")):a}function U(a){var b,c,d;for(b=0;b<ta.length;b++){c=h(ta[b].toLowerCase());if(a===c)return!0;if("."===c.slice(0,1)){if(a===c.slice(1))return!0;d=a.length-c.length;if(0<d&&a.slice(d)===c)return!0}}return!1}function r(a,b,c){c=!0;"undefined"==typeof b||b||(c=!1);b=document.createElement("script");b.type="text/javascript";b.async=c;b.src=S+(0>S.indexOf("?")?"?":"&")+a;b.onload=function(){};a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}function D(b,c,d){a(d)&&null!==d||(d=!0);try{var q=t.XMLHttpRequest?new t.XMLHttpRequest:t.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;q.open("POST",S,!0);q.onreadystatechange=function(){4!==this.readyState||200<=this.status&&300>this.status||!d?"function"===typeof c&&c():r(b,!0,c)};q.setRequestHeader("Content-Type",gb);q.send(b)}catch(e){d&&r(b,!0,c)}}function ba(a){a=(new Date).getTime()+a;if(!ka||a>ka)ka=a}function F(a){var b=(new Date).getTime();ca&&b<ca?(b=ca-b,setTimeout(a,b),ba(b+50),ca+=50):(!1===ca&&(ca=b+800),a())}function H(a,b,c,d){!ua&&a&&F(function(){"POST"===hb?D(a,d):r(a,c,d);ba(b)})}function P(a,b){var c;c=ua?!1:a&&a.length;if(c){var d='{"requests":["?'+a.join('","?')+'"]}';F(function(){D(d,null,!1);ba(b)})}}function L(a){return ib+a+"."+N+"."+jb}function aa(){if(Y)return"0";if(!a(C.cookieEnabled)){var b=L("testcookie");s(b,"1");return"1"===f(b)?"1":"0"}return C.cookieEnabled?"1":"0"}function Ga(){jb=kb((V||Ha)+(W||"/")).slice(0,4)}function M(){Ia=(new Date).getTime()}function eb(){var a=new Date,b=Math.round(a.getTime()/1E3),c=L("id"),c=f(c);"undefined"==typeof Z&&(Z="0");return c?(a=c.split("."),a.unshift("0"),Z.length&&(a[1]=Z),a):a=["1",Z.length?Z:kb((C.userAgent||"")+(C.platform||"")+JSON2.stringify(da)+a.getTime()+Math.random()).slice(0,16),b,0,b,"",""]}function sa(){var b=eb(),c=b[0],d=b[1],q=b[2],e=b[3],h=b[4],s=b[5];a(b[6])||(b[6]="");return{newVisitor:c,uuid:d,createTs:q,visitCount:e,currentVisitTs:h,lastVisitTs:s,lastEcommerceOrderTs:b[6]}}function db(){var a=(new Date).getTime(),b=sa().createTs;return 1E3*parseInt(b,10)+Ja-a}function Fa(b){if(N){var c=Math.round((new Date).getTime()/1E3);a(b)||(b=sa());b=b.uuid+"."+b.createTs+"."+b.visitCount+"."+c+"."+b.lastVisitTs+"."+b.lastEcommerceOrderTs;s(L("id"),b,db(),W,V)}}function fa(){var a=f(L("ref"));if(a.length)try{if(a=JSON2.parse(a),c(a))return a}catch(b){}return["","",0,""]}function lb(){var a=Y;Y=!1;s(L("id"),"",-86400,W,V);s(L("ses"),"",-86400,W,V);s(L("cvar"),"",-86400,W,V);s(L("ref"),"",-86400,W,V);Y=a}function T(c,d,q,e){var h,g=Math.round((new Date).getTime()/1E3),x,J;q=L("ses");var l=L("ref");L("cvar");var E=f(q);x=fa();J=va||mb;var n,G;Y&&lb();if(ua)return"";q=sa();a(e)||(e="");(n=m.characterSet||m.charset)&&n.toLowerCase();n=x[0];G=x[1];x=x[3];if(!E){E=Ka/1E3;if(!q.lastVisitTs||g-q.lastVisitTs>E)q.visitCount++,q.lastVisitTs=q.currentVisitTs;if(!La||!n.length){for(h in wa)if(Object.prototype.hasOwnProperty.call(wa,h)&&(n=k(J,wa[h]),n.length))break;for(h in xa)if(Object.prototype.hasOwnProperty.call(xa,h)&&(G=k(J,xa[h]),G.length))break}h=v(Ma);J=x.length?v(x):"";!h.length||(U(h)||La&&J.length&&!U(J))||(x=Ma);if(x.length||n.length)x=[n,G,g,ja(x.slice(0,100))],s(l,JSON2.stringify(x),nb,W,V)}g=window._portalId;"undefined"!=typeof g&&0<g||"undefined"!=typeof _portalId&&0<_portalId&&(g=_portalId);if("undefined"==typeof g||0>=g)g=ya;l=N;"undefined"!=typeof d&&("undefined"!=typeof d.cdp_property_id&&0<d.cdp_property_id)&&(l=d.cdp_property_id);c=c+("&portal_id="+g)+("&prop_id="+l+"&rec=1&client_id="+Na+"&log_type="+Oa+(la&&la.length?"&uid="+z(la):"")+"&aid="+q.uuid);d?c+="&cvar="+z(JSON2.stringify(d)):ea&&(c+="&cvar="+z(JSON2.stringify(ea)));ob&&(Pa?c+="&gt_ms="+Pa:X&&(X.timing&&X.timing.requestStart&&X.timing.responseEnd)&&(c+="&gt_ms="+(X.timing.responseEnd-X.timing.requestStart)));q.lastEcommerceOrderTs=a(e)&&String(e).length?e:q.lastEcommerceOrderTs;Fa(q);s(L("ses"),"*",Ka,W,V);Qa.length&&(c+="&"+Qa);b(Ra)&&(c=Ra(c));return c}function Ob(a,b){var c=new Date,d=T("action_name="+z(x(a||Sa)),b,"log");H(d,K,!0);Ta&&(ma&&!pb)&&(pb=!0,g(m,"click",M),g(m,"mouseup",M),g(m,"mousedown",M),g(m,"mousemove",M),g(m,"mousewheel",M),g(t,"DOMMouseScroll",M),g(t,"scroll",M),g(m,"keypress",M),g(m,"keydown",M),g(m,"keyup",M),g(t,"resize",M),g(t,"focus",M),g(t,"blur",M),Ia=c.getTime(),setTimeout(function Mb(){var a;c=new Date;Ia+ma>c.getTime()&&(Ta<c.getTime()&&(a=T("ping=1",b,"ping"),H(a,K,!0)),setTimeout(Mb,ma))},ma))}function Ua(a,b){var c,d="(^| )(piwik[_-]"+b;if(a)for(c=0;c<a.length;c++)d+="|"+a[c];return RegExp(d+")( |$)")}function na(a){return S&&a&&0===String(a).indexOf(S)}function Va(b){var c=b;for(b=c.parentNode;null!==b&&a(b)&&!w.isLinkElement(c);)c=b,b=c.parentNode;b=c;if(w.hasNodeAttribute(b,"href")&&a(b.href)&&(c=w.getAttributeValueFromNode(b,"href"),!na(c))){var c=b.hostname||v(b.href),d=c.toLowerCase(),c=b.href.replace(c,d);if(!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(c)){b=b.className;d=U(d);if(na(c))b=0;else{var q=Ua(qb,"download"),e=Ua(rb,"link"),h=RegExp("\\.("+oa+")([?&#]|$)","i");b=e.test(b)?"link":q.test(b)||h.test(c)?"download":d?0:"link"}if(b)return{type:b,href:c}}}}function pa(a,b,c,d){if(a=B.buildInteractionRequestParams(a,b,c,d))return T(a,null,"contentInteraction")}function sb(b,c,d,q,e){if(a(b)){if(na(b))return b;var h=B.toAbsoluteUrl(b),h="redirecturl="+z(h)+"&",h=h+pa(c,d,q,e||b);b="&";0>S.indexOf("?")&&(b="?");return S+b+h}}function Wa(a,b){if(!a||!b)return!1;var c=B.findTargetNode(a);if(B.shouldIgnoreInteraction(c))return!1;c=B.findTargetNodeNoDefault(a);return!c||c&&b&&(c.contains?c.contains(b):c===b||c.compareDocumentPosition&&c.compareDocumentPosition(b)&16)?!0:!1}function tb(a,b,c){if(a){var d=B.findParentContentNode(a);if(d&&Wa(d,a)&&(a=B.buildContentBlock(d)))return!a.target&&c&&(a.target=c),B.buildInteractionRequestParams(b,a.name,a.piece,a.target)}}function ub(a){if(!$||!$.length)return!1;var b,c;for(b=0;b<$.length;b++)if((c=$[b])&&c.name===a.name&&c.piece===a.piece&&c.target===a.target)return!0;return!1}function Xa(a){if(!a)return!1;var b=B.findTargetNode(a);if(!b||B.shouldIgnoreInteraction(b))return!1;var c=Va(b);if(Ya&&c&&c.type)return!1;if(w.isLinkElement(b)&&w.hasNodeAttributeWithValue(b,"href")){c=String(w.getAttributeValueFromNode(b,"href"));if(0===c.indexOf("#"))return!1;if(na(c))return!0;if(!B.isUrlToCurrentDomain(c))return!1;var d=B.buildContentBlock(a);if(!d)return;a=d.name;var q=d.piece,d=d.target;if(!w.hasNodeAttributeWithValue(b,B.CONTENT_TARGET_ATTR)||b.wasContentTargetAttrReplaced)b.wasContentTargetAttrReplaced=!0,d=B.toAbsoluteUrl(c),w.setAnyAttribute(b,B.CONTENT_TARGET_ATTR,d);c=sb(c,"click",a,q,d);B.setHrefAttribute(b,c);return!0}return!1}function vb(a){return function(b){if(a){var c=B.findParentContentNode(a),d;b&&(d=b.target||b.srcElement);d||(d=a);if(Wa(c,d)){ba(K);w.isLinkElement(a)&&(w.hasNodeAttributeWithValue(a,"href")&&w.hasNodeAttributeWithValue(a,B.CONTENT_TARGET_ATTR))&&(b=w.getAttributeValueFromNode(a,"href"),!na(b)&&a.wasContentTargetAttrReplaced&&w.setAnyAttribute(a,B.CONTENT_TARGET_ATTR,""));b=Va(a);if(za&&b&&b.type)return b.type;if(Xa(c))return"href";if(c=B.buildContentBlock(c))return c=pa("click",c.name,c.piece,c.target),H(c,K,!0),c}}}}function wb(a){if(a&&a.length){var b,c;for(b=0;b<a.length;b++)(c=B.findTargetNode(a[b]))&&!c.contentInteractionTrackingSetupDone&&(c.contentInteractionTrackingSetupDone=!0,g(c,"click",vb(c)))}}function xb(a,b){if(!a||!a.length)return[];var c,d;for(c=0;c<a.length;c++)ub(a[c])?(a.splice(c,1),c--):$.push(a[c]);if(!a||!a.length)return[];if(b&&b.length)for(c=0;c<b.length;c++)Xa(b[c]);wb(b);var q=[];for(c=0;c<a.length;c++)d=T(B.buildImpressionRequestParams(a[c].name,a[c].piece,a[c].target),void 0,"contentImpressions"),q.push(d);return q}function Aa(a){var b=B.collectContent(a);return xb(b,a)}function Za(a){if(!a||!a.length)return[];var b;for(b=0;b<a.length;b++)B.isNodeVisible(a[b])||(a.splice(b,1),b--);return a&&a.length?Aa(a):[]}function yb(a,b,c){a=B.buildImpressionRequestParams(a,b,c);return T(a,null,"contentImpression")}function zb(a,b){if(a){var c=B.findParentContentNode(a);if(c=B.buildContentBlock(c))return b||(b="Unknown"),pa(b,c.name,c.piece,c.target)}}function Ab(b,d,q,e,h,s,g,m,x){if(void 0!=String(b)&&0===String(b).length||void 0!=String(d)&&0===String(d).length)return!1;try{"pageview"==b&&"view"==d&&("undefined"==typeof s&&(s={}),s.page_title=Sa)}catch(f){}b="ec="+z(b)+"&ea="+z(d)+(a(q)?"&en="+z(q):"")+(a(e)?"&ev="+z(e):"")+(a(h)&&c(h)&&void 0!=Object.keys(h)&&0<Object.keys(h).length?"&items="+z(JSON2.stringify(h)):"");a(g)&&(c(g)&&void 0!=Object.keys(g)&&0<Object.keys(g).length)&&(b+="&uinf="+z(JSON2.stringify(g)),"undefined"!=typeof g.upkey&&(b+="&upkey="+g.upkey));a(m)&&(c(m)&&void 0!=Object.keys(m)&&0<Object.keys(m).length)&&(b+="&dims="+z(JSON2.stringify(m)));s=T(b,s,"event");a(x)||(x=!1);H(s,K,x)}function Bb(a,b,c,d,q){b=b+"="+z(ja(a));(a=tb(q,"click",a))&&(b+="&"+a);c=T(b,c,"link");H(c,d?0:K,!0,d)}function O(a){var b,c,d=["","webkit","ms","moz"],q;if(!Cb)for(c=0;c<d.length;c++)if(q=d[c],Object.prototype.hasOwnProperty.call(m,""!==q?q+"H"+"hidden".slice(1):"hidden")){"prerender"===m[""!==q?q+"V"+"visibilityState".slice(1):"visibilityState"]&&(b=!0);break}b?g(m,q+"visibilitychange",function Nb(){m.removeEventListener(q+"visibilitychange",Nb,!1);a()}):a()}function Ba(a){"complete"===m.readyState?a():t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onLoad",a)}function $a(a){var b=!1;(b=m.attachEvent?"complete"===m.readyState:"loading"!==m.readyState)?a():m.addEventListener?m.addEventListener("DOMContentLoaded",a):m.attachEvent&&m.attachEvent("onreadystatechange",a)}function Db(a){var b=Va(a);b&&b.type&&(b.href=ga(b.href),Bb(b.href,b.type,void 0,null,a))}function ab(a){var b,c;a=a||t.event;b=a.which||a.button;c=a.target||a.srcElement;"click"===a.type?c&&Db(c):"mousedown"===a.type?1!==b&&2!==b||!c?Ca=Da=null:(Ca=b,Da=c):"mouseup"===a.type&&(b===Ca&&c===Da&&Db(c),Ca=Da=null)}function Eb(a,b){b?(g(a,"mouseup",ab,!1),g(a,"mousedown",ab,!1)):g(a,"click",ab,!1)}function Fb(a){if(!za){za=!0;var b,c=Ua(Gb,"ignore"),d=m.links;if(d)for(b=0;b<d.length;b++)c.test(d[b].className)||Eb(d[b],a)}}function Hb(a,b,c){function d(){q=!0}if(ha)return!0;ha=!0;var q=!1,e,h;Ba(function(){function g(a){setTimeout(function(){ha&&(q=!1,c.trackVisibleContentImpressions(),g(a))},a)}function s(a){setTimeout(function(){ha&&(q&&(q=!1,c.trackVisibleContentImpressions()),s(a))},a)}if(a){e=["scroll","resize"];for(h=0;h<e.length;h++)m.addEventListener?m.addEventListener(e[h],d):t.attachEvent("on"+e[h],d);s(100)}b&&0<b&&(b=parseInt(b,10),g(b))})}var Ea={},bb=n(m.domain,t.location.href,A()),Ha=h(bb[0]),mb=R(bb[1]),Ma=R(bb[2]),Ib=!1,hb="GET",gb="application/x-www-form-urlencoded; charset=UTF-8",S=q||"",Jb="",Qa="",ya=ya||"",N=e||"",Na="",Oa="",la="",Z="",va,Sa=m.title,oa="7z|aac|apk|ar[cj]|as[fx]|avi|azw3|bin|csv|deb|dmg|docx?|epub|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mobi|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|pptx?|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xlsx?|xml|z|zip",ta=[Ha],Gb=[],qb=[],rb=[],K=500,Ta,ma,fb,ea,wa=["pk_campaign","piwik_campaign","utm_campaign","utm_source","utm_medium"],xa=["pk_kwd","piwik_kwd","utm_term"],ib="_pk_",V,W,Y=!1,ua,Cb,La,Ja=339552E5,Ka=18E5,nb=15768E6,ob=!0,Pa=0,Ra,da={},$=[],ha=!1,ca=!1,za=!1,Ya=!1,pb=!1,Ia,Ca,Da,kb=l,jb;(function(){var c,d,q={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},e=/Mac OS X.*Safari\//.test(C.userAgent)?t.devicePixelRatio||1:1;if(!/MSIE/.test(C.userAgent)){if(C.mimeTypes&&C.mimeTypes.length)for(c in q)Object.prototype.hasOwnProperty.call(q,c)&&(d=C.mimeTypes[q[c]],da[c]=d&&d.enabledPlugin?"1":"0");"unknown"!==typeof navigator.javaEnabled&&(a(C.javaEnabled)&&C.javaEnabled())&&(da.java="1");b(t.GearsFactory)&&(da.gears="1");da.cookie=aa()}da.res=y.width*e+"x"+y.height*e})();Ga();Fa();p("run",function(b,q){var e=null;if(d(b)&&!a(Ea[b])&&q){if(c(q))e=q;else if(d(q))try{eval("hookObj ="+q)}catch(h){}Ea[b]=e}return e});return{hook:Ea,getHook:function(a){return Ea[a]},getQuery:function(){return w},getContent:function(){return B},buildContentImpressionRequest:yb,buildContentInteractionRequest:pa,buildContentInteractionRequestNode:zb,buildContentInteractionTrackingRedirectUrl:sb,getContentImpressionsRequestsFromNodes:Aa,getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet:Za,trackCallbackOnLoad:Ba,trackCallbackOnReady:$a,buildContentImpressionsRequests:xb,wasContentImpressionAlreadyTracked:ub,appendContentInteractionToRequestIfPossible:tb,setupInteractionsTracking:wb,trackContentImpressionClickInteraction:vb,internalIsNodeVisible:E,isNodeAuthorizedToTriggerInteraction:Wa,replaceHrefIfInternalLink:Xa,getConfigDownloadExtensions:function(){return oa},enableTrackOnlyVisibleContent:function(a,b){return Hb(a,b,this)},clearTrackedContentImpressions:function(){$=[]},getTrackedContentImpressions:function(){return $},clearEnableTrackOnlyVisibleContent:function(){ha=!1},disableLinkTracking:function(){Ya=za=!1},getConfigVisitorCookieTimeout:function(){return Ja},getRemainingVisitorCookieTimeout:db,getVisitorId:function(){return sa().uuid},getVisitorInfo:function(){return eb()},getAttributionInfo:function(){return fa()},getAttributionCampaignName:function(){return fa()[0]},getAttributionCampaignKeyword:function(){return fa()[1]},getAttributionReferrerTimestamp:function(){return fa()[2]},getAttributionReferrerUrl:function(){return fa()[3]},setTrackerUrl:function(a){S=a},getTrackerUrl:function(){return S},setPortalId:function(a){ya=a},getPortalId:function(){return ya},getpropId:function(){return N},setpropId:function(a){N=a;Fa()},setClientId:function(a){Na=a},getClientId:function(){return Na},setLogEventType:function(a){Oa=a},getLogEventType:function(){return Oa},setUserId:function(a){la=a},getUserId:function(){return la},setUserCookieId:function(a){Z=a},getUserCookieId:function(){return Z},setCustomData:function(a,b){c(a)?ea=a:(ea||(ea={}),ea[a]=b)},getCustomData:function(){return ea},setCustomRequestProcessing:function(a){Ra=a},appendToTrackingUrl:function(a){Qa=a},getRequest:function(a){return T(a)},addPlugin:function(a,b){ia[a]=b},setLinkTrackingTimer:function(a){K=a},setDownloadExtensions:function(a){oa=a},addDownloadExtensions:function(a){oa+="|"+a},setDomains:function(a){ta=d(a)?[a]:a;ta.push(Ha)},setIgnoreClasses:function(a){Gb=d(a)?[a]:a},setRequestMethod:function(a){hb=a||"GET"},setRequestContentType:function(a){gb=a||"application/x-www-form-urlencoded; charset=UTF-8"},setReferrerUrl:function(a){Ma=a},setCustomUrl:function(a){var b=mb,c;u(a)?va=a:"/"===a.slice(0,1)?va=u(b)+"://"+v(b)+a:(b=ja(b),c=b.indexOf("?"),0<=c&&(b=b.slice(0,c)),c=b.lastIndexOf("/"),c!==b.length-1&&(b=b.slice(0,c+1)),va=b+a)},setDocumentTitle:function(a){Sa=a},setAPIUrl:function(a){Jb=a},setDownloadClasses:function(a){qb=d(a)?[a]:a},setLinkClasses:function(a){rb=d(a)?[a]:a},setCampaignNameKey:function(a){wa=d(a)?[a]:a},setCampaignKeywordKey:function(a){xa=d(a)?[a]:a},discardHashTag:function(a){fb=a},setCookieNamePrefix:function(a){ib=a;a=L("cvar");a=f(a);a.length&&(a=JSON2.parse(a),c(a))},setCookieDomain:function(a){V=h(a);Ga()},setCookiePath:function(a){W=a;Ga()},setVisitorCookieTimeout:function(a){Ja=1E3*a},setSessionCookieTimeout:function(a){Ka=1E3*a},setReferralCookieTimeout:function(a){nb=1E3*a},setConversionAttributionFirstReferrer:function(a){La=a},disableCookies:function(){Y=!0;da.cookie="0"},deleteCookies:function(){lb()},setDoNotTrack:function(a){var b=C.doNotTrack||C.msDoNotTrack;(ua=a&&("yes"===b||"1"===b))&&this.disableCookies()},addListener:function(a,b){Eb(a,b)},enableLinkTracking:function(a){Ya=!0;Q?Fb(a):I.push(function(){Fb(a)})},enableJSErrorTracking:function(){if(!Ib){Ib=!0;var a=t.onerror;t.onerror=function(b,c,d,q,e){O(function(){var a=c+":"+d;q&&(a+=":"+q);Ab("JavaScript Errors",a,b)});return a?a(b,c,d,q,e):!1}}},disablePerformanceTracking:function(){ob=!1},setGenerationTimeMs:function(a){Pa=parseInt(a,10)},setHeartBeatTimer:function(a,b){Ta=(new Date).getTime()+1E3*a;ma=1E3*b},killFrame:function(){t.location!==t.top.location&&(t.top.location=t.location)},redirectFile:function(a){"file:"===t.location.protocol&&(t.location=a)},setCountPreRendered:function(a){Cb=a},trackGoal:function(a,b,c){O(function(){var d=T("idgoal="+a+(b?"&revenue="+b:""),c,"goal");H(d,K,!1)})},trackLink:function(a,b,c,d){O(function(){Bb(a,b,c,d)})},trackPageView:function(a,b){$=[];G(N)?O(function(){Lb(S,Jb,N)}):O(function(){Ob(a,b)})},trackAllContentImpressions:function(){G(N)||O(function(){$a(function(){var a=B.findContentNodes(),a=Aa(a);P(a,K)})})},trackVisibleContentImpressions:function(b,c){G(N)||(a(b)||(b=!0),a(c)||(c=750),Hb(b,c,this),O(function(){Ba(function(){var a=B.findContentNodes(),a=Za(a);P(a,K)})}))},trackContentImpression:function(a,b,c){!G(N)&&a&&(b=b||"Unknown",O(function(){var d=yb(a,b,c);H(d,K,!0)}))},trackContentImpressionsWithinNode:function(a){!G(N)&&a&&O(function(){ha?Ba(function(){var b=B.findContentNodesWithinNode(a),b=Za(b);P(b,K)}):$a(function(){var b=B.findContentNodesWithinNode(a),b=Aa(b);P(b,K)})})},trackContentInteraction:function(a,b,c,d){!G(N)&&(a&&b)&&(c=c||"Unknown",O(function(){var q=pa(a,b,c,d);H(q,K,!0)}))},trackContentInteractionNode:function(a,b){!G(N)&&a&&O(function(){var c=zb(a,b);H(c,K,!0)})},trackEvent:function(a,b,c,d,q,e,h,g,s){O(function(){Ab(a,b,c,d,q,e,h,g,s)})},trackSiteSearch:function(b,c,d){O(function(){var q=T("search="+z(b)+(c?"&search_cat="+z(c):"")+(a(d)?"&search_count="+d:""),void 0,"sitesearch");H(q,K,!0)})}}}var ka,ia={},m=document,C=navigator,y=screen,t=window,X=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance,Q=!1,I=[],z=t.encodeURIComponent,R=t.decodeURIComponent,ga=unescape,D,F,H,w={htmlCollectionToArray:function(a){var b=[],c;if(!a||!a.length)return b;for(c=0;c<a.length;c++)b.push(a[c]);return b},find:function(a){if(!document.querySelectorAll||!a)return[];a=document.querySelectorAll(a);return this.htmlCollectionToArray(a)},findMultiple:function(a){if(!a||!a.length)return[];var b,c,d=[];for(b=0;b<a.length;b++)c=this.find(a[b]),d=d.concat(c);return d=this.makeNodesUnique(d)},findNodesByTagName:function(a,b){if(!a||!b||!a.getElementsByTagName)return[];var c=a.getElementsByTagName(b);return this.htmlCollectionToArray(c)},makeNodesUnique:function(a){var b=[].concat(a);a.sort(function(a,c){if(a===c)return 0;var d=U(b,a),q=U(b,c);return d===q?0:d>q?-1:1});if(1>=a.length)return a;var c=0,d=0,e=[],h;for(h=a[c++];h;)h===a[c]&&(d=e.push(c)),h=a[c++]||null;for(;d--;)a.splice(e[d],1);return a},getAttributeValueFromNode:function(a,b){if(this.hasNodeAttribute(a,b)){if(a&&a.getAttribute)return a.getAttribute(b);if(a&&a.attributes&&"undefined"!==typeof a.attributes[b]){if(a.attributes[b].value)return a.attributes[b].value;if(a.attributes[b].nodeValue)return a.attributes[b].nodeValue;var c,d=a.attributes;if(d){for(c=0;c<d.length;c++)if(d[c].nodeName===b)return d[c].nodeValue;return null}}}},hasNodeAttributeWithValue:function(a,b){return!!this.getAttributeValueFromNode(a,b)},hasNodeAttribute:function(a,b){return a&&a.hasAttribute?a.hasAttribute(b):a&&a.attributes?"undefined"!==typeof a.attributes[b]:!1},hasNodeCssClass:function(a,b){if(a&&b&&a.className){var c=a.className.split(" ");if(-1!==U(c,b))return!0}return!1},findNodesHavingAttribute:function(a,b,c){c||(c=[]);if(!a||!b)return c;a=s(a);if(!a||!a.length)return c;var d,e;for(d=0;d<a.length;d++)e=a[d],this.hasNodeAttribute(e,b)&&c.push(e),c=this.findNodesHavingAttribute(e,b,c);return c},findFirstNodeHavingAttribute:function(a,b){if(a&&b){if(this.hasNodeAttribute(a,b))return a;var c=this.findNodesHavingAttribute(a,b);if(c&&c.length)return c[0]}},findFirstNodeHavingAttributeWithValue:function(a,b){if(a&&b){if(this.hasNodeAttributeWithValue(a,b))return a;var c=this.findNodesHavingAttribute(a,b);if(c&&c.length){var d;for(d=0;d<c.length;d++)if(this.getAttributeValueFromNode(c[d],b))return c[d]}}},findNodesHavingCssClass:function(a,b,c){c||(c=[]);if(!a||!b)return c;if(a.getElementsByClassName)return b=a.getElementsByClassName(b),this.htmlCollectionToArray(b);a=s(a);if(!a||!a.length)return[];var d,e;for(d=0;d<a.length;d++)e=a[d],this.hasNodeCssClass(e,b)&&c.push(e),c=this.findNodesHavingCssClass(e,b,c);return c},findFirstNodeHavingClass:function(a,b){if(a&&b){if(this.hasNodeCssClass(a,b))return a;var c=this.findNodesHavingCssClass(a,b);if(c&&c.length)return c[0]}},isLinkElement:function(a){if(!a)return!1;a=String(a.nodeName).toLowerCase();return-1!==U(["a","area"],a)},setAnyAttribute:function(a,b,c){a&&b&&(a.setAttribute?a.setAttribute(b,c):a[b]=c)}},B={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){return w.findMultiple(["."+this.CONTENT_CLASS,"["+this.CONTENT_ATTR+"]"])},findContentNodesWithinNode:function(a){if(!a)return[];var b=w.findNodesHavingCssClass(a,this.CONTENT_CLASS),c=w.findNodesHavingAttribute(a,this.CONTENT_ATTR);if(c&&c.length){var d;for(d=0;d<c.length;d++)b.push(c[d])}w.hasNodeAttribute(a,this.CONTENT_ATTR)?b.push(a):w.hasNodeCssClass(a,this.CONTENT_CLASS)&&b.push(a);return b=w.makeNodesUnique(b)},findParentContentNode:function(a){if(a)for(var b=0;a&&a!==m&&a.parentNode;){if(w.hasNodeAttribute(a,this.CONTENT_ATTR)||w.hasNodeCssClass(a,this.CONTENT_CLASS))return a;a=a.parentNode;if(1E3<b)break;b++}},findPieceNode:function(a){var b;(b=w.findFirstNodeHavingAttribute(a,this.CONTENT_PIECE_ATTR))||(b=w.findFirstNodeHavingClass(a,this.CONTENT_PIECE_CLASS));return b?b:a},findTargetNodeNoDefault:function(a){if(a){var b=w.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_TARGET_ATTR);if(b||(b=w.findFirstNodeHavingAttribute(a,this.CONTENT_TARGET_ATTR))||(b=w.findFirstNodeHavingClass(a,this.CONTENT_TARGET_CLASS)))return b}},findTargetNode:function(a){var b=this.findTargetNodeNoDefault(a);return b?b:a},findContentName:function(a){if(a){var b=w.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_NAME_ATTR);if(b)return w.getAttributeValueFromNode(b,this.CONTENT_NAME_ATTR);if(b=this.findContentPiece(a))return this.removeDomainIfIsInLink(b);if(w.hasNodeAttributeWithValue(a,"title"))return w.getAttributeValueFromNode(a,"title");b=this.findPieceNode(a);if(w.hasNodeAttributeWithValue(b,"title"))return w.getAttributeValueFromNode(b,"title");a=this.findTargetNode(a);if(w.hasNodeAttributeWithValue(a,"title"))return w.getAttributeValueFromNode(a,"title")}},findContentPiece:function(a){if(a){var b=w.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_PIECE_ATTR);if(b)return w.getAttributeValueFromNode(b,this.CONTENT_PIECE_ATTR);a=this.findPieceNode(a);if(a=this.findMediaUrlInNode(a))return this.toAbsoluteUrl(a)}},findContentTarget:function(a){if(a){var b=this.findTargetNode(a);if(w.hasNodeAttributeWithValue(b,this.CONTENT_TARGET_ATTR))return w.getAttributeValueFromNode(b,this.CONTENT_TARGET_ATTR);if(w.hasNodeAttributeWithValue(b,"href"))return a=w.getAttributeValueFromNode(b,"href"),this.toAbsoluteUrl(a);a=this.findPieceNode(a);if(w.hasNodeAttributeWithValue(a,"href"))return a=w.getAttributeValueFromNode(a,"href"),this.toAbsoluteUrl(a)}},isSameDomain:function(a){if(!a||!a.indexOf)return!1;if(0===a.indexOf(this.getLocation().origin))return!0;a=a.indexOf(this.getLocation().host);return 8>=a&&0<=a?!0:!1},removeDomainIfIsInLink:function(a){a&&(a.search&&-1!==a.search(/^https?:\/\/[^/]+/)&&this.isSameDomain(a))&&((a=a.replace(/^.*\/\/[^/]+/,""))||(a="/"));return a},findMediaUrlInNode:function(a){if(a){var b=a.nodeName.toLowerCase();if(-1!==U(["img","embed","video","audio"],b)&&w.findFirstNodeHavingAttributeWithValue(a,"src"))return a=w.findFirstNodeHavingAttributeWithValue(a,"src"),w.getAttributeValueFromNode(a,"src");if("object"===b&&w.hasNodeAttributeWithValue(a,"data"))return w.getAttributeValueFromNode(a,"data");if("object"===b){if((b=w.findNodesByTagName(a,"param"))&&b.length){var c;for(c=0;c<b.length;c++)if("movie"===w.getAttributeValueFromNode(b[c],"name")&&w.hasNodeAttributeWithValue(b[c],"value"))return w.getAttributeValueFromNode(b[c],"value")}if((a=w.findNodesByTagName(a,"embed"))&&a.length)return this.findMediaUrlInNode(a[0])}}},trim:function(a){return a&&String(a)===a?a.replace(/^\s+|\s+$/g,""):a},isOrWasNodeInViewport:function(a){if(!a||!a.getBoundingClientRect||1!==a.nodeType)return!0;var b=a.getBoundingClientRect(),c=m.documentElement||{},d=0>b.top;d&&a.offsetTop&&(d=0<a.offsetTop+b.height);a=c.clientWidth;t.innerWidth&&a>t.innerWidth&&(a=t.innerWidth);c=c.clientHeight;t.innerHeight&&c>t.innerHeight&&(c=t.innerHeight);return(0<b.bottom||d)&&0<b.right&&b.left<a&&(b.top<c||d)},isNodeVisible:function(a){var b=E(a);a=this.isOrWasNodeInViewport(a);return b&&a},buildInteractionRequestParams:function(a,b,c,d){var e="";a&&(e+="c_i="+z(a));b&&(e&&(e+="&"),e+="c_n="+z(b));c&&(e&&(e+="&"),e+="c_p="+z(c));d&&(e&&(e+="&"),e+="c_t="+z(d));return e},buildImpressionRequestParams:function(a,b,c){a="c_n="+z(a)+"&c_p="+z(b);c&&(a+="&c_t="+z(c));return a},buildContentBlock:function(a){if(a){var b=this.findContentName(a),c=this.findContentPiece(a);a=this.findContentTarget(a);b=this.trim(b);c=this.trim(c);a=this.trim(a);return{name:b||"Unknown",piece:c||"Unknown",target:a||""}}},collectContent:function(b){if(!b||!b.length)return[];var c=[],d,e;for(d=0;d<b.length;d++)e=this.buildContentBlock(b[d]),a(e)&&c.push(e);return c},setLocation:function(a){this.location=a},getLocation:function(){var a=this.location||t.location;a.origin||(a.origin=a.protocol+"//"+a.hostname+(a.port?":"+a.port:""));return a},toAbsoluteUrl:function(a){return a&&String(a)===a||""===a?""===a?this.getLocation().href:-1!==a.search(/^\/\//)?this.getLocation().protocol+a:-1!==a.search(/:\/\//)?a:0===a.indexOf("#")||0===a.indexOf("?")?this.getLocation().origin+this.getLocation().pathname+a:0===a.search("^[a-zA-Z]{2,11}:")?a:-1!==a.search(/^\//)?this.getLocation().origin+a:this.getLocation().origin+this.getLocation().pathname.match(/(.*\/)/)[0]+a:a},isUrlToCurrentDomain:function(a){a=this.toAbsoluteUrl(a);if(!a)return!1;var b=this.getLocation().origin;return b===a?!0:0===String(a).indexOf(b)?":"===String(a).substr(b.length,1)?!1:!0:!1},setHrefAttribute:function(a,b){a&&b&&w.setAnyAttribute(a,"href",b)},shouldIgnoreInteraction:function(a){var b=w.hasNodeAttribute(a,this.CONTENT_IGNOREINTERACTION_ATTR);a=w.hasNodeCssClass(a,this.CONTENT_IGNOREINTERACTION_CLASS);return b||a}};g(t,"beforeunload",function(){var a;p("unload");if(ka){do a=new Date;while(a.getTimeAlias()<ka)}},!1);(function(){var a;m.addEventListener?g(m,"DOMContentLoaded",function qa(){m.removeEventListener("DOMContentLoaded",qa,!1);f()}):m.attachEvent&&(m.attachEvent("onreadystatechange",function ra(){"complete"===m.readyState&&(m.detachEvent("onreadystatechange",ra),f())}),m.documentElement.doScroll&&t===t.top&&function cb(){if(!Q){try{m.documentElement.doScroll("left")}catch(a){setTimeout(cb,0);return}f()}}());/WebKit/.test(C.userAgent)&&(a=setInterval(function(){if(Q||/loaded|complete/.test(m.readyState))clearInterval(a),f()},10));g(t,"load",f,!1)})();Date.prototype.getTimeAlias=Date.prototype.getTime;D=new ba;var aa={setTrackerUrl:1,setAPIUrl:1,setUserId:1,setUserCookieId:1,setClientId:1,setPortalId:1,setpropId:1,disableCookies:1,enableLinkTracking:1},P;for(F=0;F<_paqAcdp.length;F++)P=_paqAcdp[F][0],aa[P]&&(e(_paqAcdp[F]),delete _paqAcdp[F],1<aa[P]&&void 0!==console&&(console&&console.error)&&console.error("The method "+P+' is registered more than once in "_paq" variable. Only the last call has an effect. Please have a look at the multiple Piwik trackers documentation: http://developer.piwik.org/guides/tracking-javascript-guide#multiple-piwik-trackers'),aa[P]++);for(F=0;F<_paqAcdp.length;F++)_paqAcdp[F]&&e(_paqAcdp[F]);_paqAcdp=new function(){return{push:e}};H={addPlugin:function(a,b){ia[a]=b},getTracker:function(b,c){a(c)||(c=this.getAsyncTracker().getpropId());a(b)||(b=this.getAsyncTracker().getTrackerUrl());return new ba(b,c)},getAsyncTracker:function(){return D}};"function"===typeof define&&define.amd&&define("piwik",[],function(){return H});return H}());window&&window.piwikAcdpAsyncInit&&window.piwikAcdpAsyncInit();(function(){"undefined"===typeof AnalyticsTracker&&(AnalyticsTracker=PiwikAcdp)})();"function"!==typeof piwik_acdp_log&&(piwik_acdp_log=function(a,b,c,d){function e(a){try{return eval("piwik_"+a)}catch(b){}}var g=PiwikAcdp.getTracker(c,b);g.setDocumentTitle(a);g.setCustomData(d);(a=e("tracker_pause"))&&g.setLinkTrackingTimer(a);(a=e("download_extensions"))&&g.setDownloadExtensions(a);(a=e("hosts_alias"))&&g.setDomains(a);(a=e("ignore_classes"))&&g.setIgnoreClasses(a);g.trackPageView();e("install_tracker")&&(piwik_track=function(a,b,c,d){g.setpropId(b);g.setTrackerUrl(c);g.trackLink(a,d)},g.enableLinkTracking())});function _ac_isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}if(9==_ac_isIE())try{var STATIC_FILE_URL="//st-a.cdp.asia";_antsLoadScript(STATIC_FILE_URL+"/ie9.js")}catch(ex$$1){}function _ac_b64ToUint6(a){return 64<a&&91>a?a-65:96<a&&123>a?a-71:47<a&&58>a?a+4:43===a?62:47===a?63:0}function _ac_base64DecToArr(a,b){try{for(var c=a.replace(/[^A-Za-z0-9\+\/]/g,""),d=c.length,e=b?Math.ceil((3*d+1>>2)/b)*b:3*d+1>>2,g=new Uint8Array(e),p,f,r=0,A=0,u=0;u<d;u++)if(f=u&3,r|=_ac_b64ToUint6(c.charCodeAt(u))<<6*(3-f),3===f||1===d-u){for(p=0;3>p&&A<e;p++,A++)g[A]=r>>>(16>>>p&24)&255;r=0}return g}catch(v){return""}}function uint6ToB64(a){return 26>a?a+65:52>a?a+71:62>a?a-4:62===a?43:63===a?47:65}function _ac_base64EncArr(a){for(var b=2,c="",d=a.length,e=0,g=0;g<d;g++)if(b=g%3,0<g&&0===4*g/3%76&&(c+="\r\n"),e|=a[g]<<(16>>>b&24),2===b||1===a.length-g)c+=String.fromCharCode(uint6ToB64(e>>>18&63),uint6ToB64(e>>>12&63),uint6ToB64(e>>>6&63),uint6ToB64(e&63)),e=0;return c.substr(0,c.length-2+b)+(2===b?"":1===b?"=":"==")}function _ac_UTF8ArrToStr(a){for(var b="",c,d=a.length,e=0;e<d;e++)c=a[e],b+=String.fromCharCode(251<c&&254>c&&e+5<d?1073741824*(c-252)+(a[++e]-128<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:247<c&&252>c&&e+4<d?(c-248<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:239<c&&248>c&&e+3<d?(c-240<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:223<c&&240>c&&e+2<d?(c-224<<12)+(a[++e]-128<<6)+a[++e]-128:191<c&&224>c&&e+1<d?(c-192<<6)+a[++e]-128:c);return b}function _ac_strToUTF8Arr(a){var b,c;b=a.length;for(var d=0,e=0;e<b;e++)c=a.charCodeAt(e),d+=128>c?1:2048>c?2:65536>c?3:2097152>c?4:67108864>c?5:6;b=new Uint8Array(d);for(var g=e=0;e<d;g++)c=a.charCodeAt(g),128>c?b[e++]=c:(2048>c?b[e++]=192+(c>>>6):(65536>c?b[e++]=224+(c>>>12):(2097152>c?b[e++]=240+(c>>>18):(67108864>c?b[e++]=248+(c>>>24):(b[e++]=252+(c>>>30),b[e++]=128+(c>>>24&63)),b[e++]=128+(c>>>18&63)),b[e++]=128+(c>>>12&63)),b[e++]=128+(c>>>6&63)),b[e++]=128+(c&63));return b}function _ac_encryptBase64(a){if(9==_ac_isIE())return a;a=_ac_strToUTF8Arr(a);return _ac_base64EncArr(a)}function _ac_decryptBase64(a){if(9==_ac_isIE())return a;a=_ac_base64DecToArr(a);return _ac_UTF8ArrToStr(a)};var aiHelper=aiHelper||{};window.aiHelper.metaHelper=function(){this.init=function(){};this.getSectionByBreadCrumb=function(){var a=ai_meta_helper.getSectionByBreadCrumbByWithoutMarkup();if(void 0==a||""==a)a=ai_meta_helper.getSectionByBreadCrumbBySchemaOrg();return a};this.getSectionByBreadCrumbByWithoutMarkup=function(){var a="",b=null;try{if(null!==document.querySelector(".breadcrumb")){if(b=document.querySelector(".breadcrumb").querySelectorAll("li"),void 0==b||null==b||0>=b.length)b=document.querySelector(".breadcrumb").querySelectorAll("a")}else null!==document.querySelector('[itemprop="breadcrumb"]')&&(b=document.querySelectorAll('[itemprop="breadcrumb"]'));void 0!=b&&(null!=b&&0<b.length)&&(b.forEach(function(b){void 0!=b.innerText&&""!=b.innerText&&(b=b.innerText.trim(),""==b||50<b.length||(a+="/"+b))}),""!==a&&(a=a.substring(1)))}catch(c){}return a};this.getSectionByBreadCrumbBySchemaOrg=function(){var a="";try{var b=document.querySelector('script[type="application/ld+json"]');if(void 0!=b&&null!=b&&void 0!=b.innerText&&""!=b.innerText&&0<b.innerText.indexOf("schema.org")){var c=JSON.parse(b.innerText),b=!1;if("[object Array]"!==Object.prototype.toString.call(c)){var d=c,c=[];c.push(d)}for(var d=0,e=c.length;d<e&&!b;d++){var g=c[d],p=g["@type"];if("BreadcrumbList"==p){for(var b=!0,f=g.itemListElement,r=0,e=f.length;r<e;r++){var A=f[r].item.name;void 0!=A&&""!=A&&(A=A.trim());""==A||50<A.length||(a+="/"+A)}""!==a&&(a=a.substring(1))}else if("WebSite"==p){b=!0;a=g.name;break}}}if(""==a){var u=document.querySelectorAll('li[itemprop="itemListElement"]');if(void 0==u||""==u||null==u)u=document.querySelectorAll('li[property="itemListElement"]');void 0!=u&&(""!=u&&null!=u)&&(u.forEach(function(b){if(void 0!=b.innerText&&""!=b.innerText){b=b.innerText.trim();if(""==b||50<b.length)return!1;a+="/"+b}}),""!==a&&(a=a.substring(1)))}}catch(v){}return a}};window.aiHelper.urlHelper=function(){this.getSectionByAutoUrl=function(a){var b="";try{"undefined"===typeof a&&(a=window.location.href);var c=a.split("//");if("string"===typeof c[1]){var d=c[1],c=c[1].split("/");1>=c.length&&(c=d.split("#"));4<c.length&&(c.length=4);b=this.mappingSection(c)}else b=""}catch(e){}return b};this.mappingSection=function(a){var b="",c=a.length;if(1>=c||1>=a[1].length)return"home";for(i=1;i<c;i++)if(i==c-1){var d=this.validSectionLast(a[i]);null!=d&&(b=""==b?d:b+"/"+d)}else null!=this.validSection(a[i])&&(b=0==b.length?b+a[i]:b+"/"+a[i]);return b};this.validSection=function(a){if(2>a.length||50<a.length||-1<a.indexOf("?")||-1<a.indexOf(".")||-1<a.indexOf("#"))a=null;return a};this.validSectionLast=function(a){return-1<a.indexOf("?")&&(-1<a.indexOf("search")||-1<a.indexOf("query"))?"search":-1<a.indexOf("?")&&-1<a.indexOf("tag")?"tag":-1<a.indexOf("?")?null:2>a.length||50<a.length||-1<a.indexOf("index")||-1<a.indexOf("default")?null:a.split(".")[0]}};var ai_meta_helper=new window.aiHelper.metaHelper,ai_url_helper=new window.aiHelper.urlHelper;window.aiHelper.sectionHelper=function(){this.getSections=function(){var a="";try{if(a=ai_meta_helper.getSectionByBreadCrumb(),void 0==a||""==a)a=ai_url_helper.getSectionByAutoUrl()}catch(b){}if(""==a||void 0==a)a=!1;return a}};var ai_section_helper=new window.aiHelper.sectionHelper;var _CDP_LOG_TRACKING_URL="//a.cdp.asia",_CDP_STATIC_FILE_URL="//st-a.cdp.asia",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery",_CDP_ALLOW_CONSOLE_LOG=!1,ONESIGNAL_SDK_URL="//cdn.onesignal.com/sdks/OneSignalSDK.js",_CDP_CUSTOM_EVENT_URL="//st-a.cdp.asia/custom-event.js",_CDP_ENV="prod",_SCRIPT_VER="20230110",MAX_LENGTH_HTTP_REQUEST=1800;"sandbox"==_CDP_ENV?(_CDP_LOG_TRACKING_URL="//sandbox-a.cdp.asia",_CDP_STATIC_FILE_URL="//sandbox-st-a.cdp.asia",_CDP_DELIVERY_URL="//sandbox-st-e.cdp.asia/san-delivery",_CDP_CUSTOM_EVENT_URL="//sandbox-st-a.cdp.asia/custom-event.js"):"vtv"==_CDP_ENV?(_CDP_LOG_TRACKING_URL="//a.vtvdigital.vn",_CDP_STATIC_FILE_URL="//st-a.vtvdigital.vn",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery"):"vtv_v2"==_CDP_ENV&&(_CDP_LOG_TRACKING_URL="//a-v2.vtvdigital.vn",_CDP_STATIC_FILE_URL="//st-a.vtvdigital.vn",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery");var web_event=web_event||{};web_event.version="1.0";web_event.loaded=1;web_event.locked=!1;var _cdp365SentPageviewUri="",_cdp365ClickRedirectUri=0,CDP_UID_1ST_COOKIE_NAME="_asm_uid",CDP_UID_3RD_COOKIE_NAME="au_id",CDP_VISITOR_TYPE_COOKIE_NAME="_asm_visitor_type",firstPartyUserId="",_portalId=_portalId||0,_propId=_propId||0,_uidfData=_uidfData||{},_CDP_DELIVERY_TRIGGER=_CDP_DELIVERY_TRIGGER;"undefined"==typeof _CDP_DELIVERY_TRIGGER&&(_CDP_DELIVERY_TRIGGER=!0);var _CDP_CUSTOM_EVENT=_CDP_CUSTOM_EVENT;"undefined"==typeof _CDP_CUSTOM_EVENT&&(_CDP_CUSTOM_EVENT=!0);var _cdp365Analytics=_cdp365Analytics||{},cdpEventFunctionHelper=cdpEventFunctionHelper||{};window.cdpEventFunctionHelper=function(){this.init=function(){};this.replaceAll=function(a,b,c){return void 0!=a&&""!=a?a.replace(RegExp(b,"g"),c):a};this.setCookie=function(a,b,c,d,e,g){var p;void 0!=c&&(p=new Date,p.setTime(p.getTime()+c));var f=b+"";isNaN(b)&&(f=window.encodeURIComponent(b));a=a+"="+f+(c?";expires="+p.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(g?";secure":"");document.cookie=a};this.logInfo=function(a,b){_CDP_ALLOW_CONSOLE_LOG&&(void 0!=b?console.log(a,b):console.log(a))};this.getCookie=function(a){return(cookieMatch=RegExp("(^|;)[ ]*"+a+"=([^;]*)").exec(document.cookie))?window.decodeURIComponent(cookieMatch[2]):0};this.getURLParameter=function(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a){var e=d[1];""!=e&&150<e.length&&(e="");return e}}try{var g=window.location.href;if(0>g.indexOf("?utm")&&0<g.indexOf("utm_"))for(var p=g.substring(g.indexOf("utm_")),b=p.split("&"),c=0;c<b.length;c++)if(d=b[c].split("="),d[0]==a)return e=d[1],""!=e&&50<e.length&&(e=""),e}catch(f){}try{if(g=window.location.href,0<g.indexOf("?utm"))for(p=g.substring(g.indexOf("?utm")+1),b=p.split("&"),c=0;c<b.length;c++)if(d=b[c].split("="),d[0]==a)return e=d[1],""!=e&&50<e.length&&(e=""),e}catch(r){}return""};this.getReferrer=function(){var a="";try{a=window.top.document.referrer}catch(b){if(window.parent)try{a=window.parent.document.referrer}catch(c){a=""}}""===a&&(a=document.referrer);return a};this.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};this.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};this.checkHomePage=function(){var a=window.location.hostname,b=window.location.href,c="http://"+a+"/";0<=b.indexOf("https://")&&(c="https://"+a+"/");return c==b?1:0};this.checkIsWebview=function(){var a=!1;try{var b=window.navigator.standalone,c=window.navigator.userAgent.toLowerCase(),d=/safari/.test(c);if(/iphone|ipod|ipad/.test(c)){if(b||!d)b||d||(a=!0)}else c.includes("wv")&&(a=!0)}catch(e){}return a};this.getReferrerDomain=function(a){a="";var b=window._cdpEventFunction.getReferrer();void 0!=b&&(""!=b&&0<b.length)&&(b=window._cdpEventFunction.getHostName(b),void 0!=b&&""!=b&&(a=b.replace("www.","")));return a};this.getDefaultCookieDomain=function(){for(var a="net com edu org gov biz info".split(" "),b=0,c=a.length;b<c;++b)a.push(a[b]+"\\.vn"),a.push(a[b]+"\\.ph"),a.push(a[b]+"\\.us"),a.push(a[b]+"\\.id"),a.push(a[b]+"\\.sg"),a.push(a[b]+"\\.jp");a.push("vn");a.push("us");a.push("id");a.push("ph");a.push("jp");a.push("sg");var a=RegExp("(\\.?[^.]+\\.("+a.join("|")+")$)"),a=document.domain.match(a),d;null!==a?d=a[1]:(a=document.domain.match(/(\.?[^.]+\.?[^.]+$)/),null!==a&&(d=a[1]));"."==d[0]&&(d=d.substr(1));return d};this.sha1=function(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},d,e,g=[],p=1732584193,f=4023233417,r=2562383102,A=271733878,u=3285377520,v,k,l,n,h,x=[];a=utf8_encode(a);v=a.length;for(d=0;d<v-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),x.push(e);switch(v&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(v-1)<<24|8388608;break;case 2:d=a.charCodeAt(v-2)<<24|a.charCodeAt(v-1)<<16|32768;break;case 3:d=a.charCodeAt(v-3)<<24|a.charCodeAt(v-2)<<16|a.charCodeAt(v-1)<<8|128}for(x.push(d);14!==(x.length&15);)x.push(0);x.push(v>>>29);x.push(v<<3&4294967295);for(a=0;a<x.length;a+=16){for(d=0;16>d;d++)g[d]=x[a+d];for(d=16;79>=d;d++)g[d]=b(g[d-3]^g[d-8]^g[d-14]^g[d-16],1);e=p;v=f;k=r;l=A;n=u;for(d=0;19>=d;d++)h=b(e,5)+(v&k|~v&l)+n+g[d]+1518500249&4294967295,n=l,l=k,k=b(v,30),v=e,e=h;for(d=20;39>=d;d++)h=b(e,5)+(v^k^l)+n+g[d]+1859775393&4294967295,n=l,l=k,k=b(v,30),v=e,e=h;for(d=40;59>=d;d++)h=b(e,5)+(v&k|v&l|k&l)+n+g[d]+2400959708&4294967295,n=l,l=k,k=b(v,30),v=e,e=h;for(d=60;79>=d;d++)h=b(e,5)+(v^k^l)+n+g[d]+3395469782&4294967295,n=l,l=k,k=b(v,30),v=e,e=h;p=p+e&4294967295;f=f+v&4294967295;r=r+k&4294967295;A=A+l&4294967295;u=u+n&4294967295}h=c(p)+c(f)+c(r)+c(A)+c(u);return h.toLowerCase()};this._cdpGetLeadTime=function(){var a=new Date,b=a.getMonth()+1;10>parseInt(b)&&(b="0"+b);var c=a.getDate();10>parseInt(c)&&(c="0"+c);var d=a.getHours();10>parseInt(d)&&(d="0"+d);var e=a.getMinutes();10>parseInt(e)&&(e="0"+e);var g=a.getSeconds();10>parseInt(g)&&(g="0"+g);return a.getFullYear()+"-"+b+"-"+c+" "+d+":"+e+":"+g};this.md5=function(a){function b(a,b){var c,d,e,h,g;e=a&2147483648;h=b&2147483648;c=a&1073741824;d=b&1073741824;g=(a&1073741823)+(b&1073741823);return c&d?g^2147483648^e^h:c|d?g&1073741824?g^3221225472^e^h:g^1073741824^e^h:g^e^h}function c(a,c,d,e,h,g,f){a=b(a,b(b(c&d|~c&e,h),f));return b(a<<g|a>>>32-g,c)}function d(a,c,d,e,h,g,f){a=b(a,b(b(c&e|d&~e,h),f));return b(a<<g|a>>>32-g,c)}function e(a,c,d,e,h,g,f){a=b(a,b(b(c^d^e,h),f));return b(a<<g|a>>>32-g,c)}function g(a,c,d,e,h,g,f){a=b(a,b(b(d^(c|~e),h),f));return b(a<<g|a>>>32-g,c)}function p(a){var b="",c="",d;for(d=0;3>=d;d++)c=a>>>8*d&255,c="0"+c.toString(16),b+=c.substr(c.length-2,2);return b}var f=[],r,A,u,v,k,l,n,h;a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);f=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),e=Array(d-1),h=0,g=0;g<c;)b=(g-g%4)/4,h=8*(g%4),e[b]|=a.charCodeAt(g)<<h,g++;b=(g-g%4)/4;e[b]|=128<<8*(g%4);e[d-2]=c<<3;e[d-1]=c>>>29;return e}(a);k=1732584193;l=4023233417;n=2562383102;h=271733878;for(a=0;a<f.length;a+=16)r=k,A=l,u=n,v=h,k=c(k,l,n,h,f[a+0],7,3614090360),h=c(h,k,l,n,f[a+1],12,3905402710),n=c(n,h,k,l,f[a+2],17,606105819),l=c(l,n,h,k,f[a+3],22,3250441966),k=c(k,l,n,h,f[a+4],7,4118548399),h=c(h,k,l,n,f[a+5],12,1200080426),n=c(n,h,k,l,f[a+6],17,2821735955),l=c(l,n,h,k,f[a+7],22,4249261313),k=c(k,l,n,h,f[a+8],7,1770035416),h=c(h,k,l,n,f[a+9],12,2336552879),n=c(n,h,k,l,f[a+10],17,4294925233),l=c(l,n,h,k,f[a+11],22,2304563134),k=c(k,l,n,h,f[a+12],7,1804603682),h=c(h,k,l,n,f[a+13],12,4254626195),n=c(n,h,k,l,f[a+14],17,2792965006),l=c(l,n,h,k,f[a+15],22,1236535329),k=d(k,l,n,h,f[a+1],5,4129170786),h=d(h,k,l,n,f[a+6],9,3225465664),n=d(n,h,k,l,f[a+11],14,643717713),l=d(l,n,h,k,f[a+0],20,3921069994),k=d(k,l,n,h,f[a+5],5,3593408605),h=d(h,k,l,n,f[a+10],9,38016083),n=d(n,h,k,l,f[a+15],14,3634488961),l=d(l,n,h,k,f[a+4],20,3889429448),k=d(k,l,n,h,f[a+9],5,568446438),h=d(h,k,l,n,f[a+14],9,3275163606),n=d(n,h,k,l,f[a+3],14,4107603335),l=d(l,n,h,k,f[a+8],20,1163531501),k=d(k,l,n,h,f[a+13],5,2850285829),h=d(h,k,l,n,f[a+2],9,4243563512),n=d(n,h,k,l,f[a+7],14,1735328473),l=d(l,n,h,k,f[a+12],20,2368359562),k=e(k,l,n,h,f[a+5],4,4294588738),h=e(h,k,l,n,f[a+8],11,2272392833),n=e(n,h,k,l,f[a+11],16,1839030562),l=e(l,n,h,k,f[a+14],23,4259657740),k=e(k,l,n,h,f[a+1],4,2763975236),h=e(h,k,l,n,f[a+4],11,1272893353),n=e(n,h,k,l,f[a+7],16,4139469664),l=e(l,n,h,k,f[a+10],23,3200236656),k=e(k,l,n,h,f[a+13],4,681279174),h=e(h,k,l,n,f[a+0],11,3936430074),n=e(n,h,k,l,f[a+3],16,3572445317),l=e(l,n,h,k,f[a+6],23,76029189),k=e(k,l,n,h,f[a+9],4,3654602809),h=e(h,k,l,n,f[a+12],11,3873151461),n=e(n,h,k,l,f[a+15],16,530742520),l=e(l,n,h,k,f[a+2],23,3299628645),k=g(k,l,n,h,f[a+0],6,4096336452),h=g(h,k,l,n,f[a+7],10,1126891415),n=g(n,h,k,l,f[a+14],15,2878612391),l=g(l,n,h,k,f[a+5],21,4237533241),k=g(k,l,n,h,f[a+12],6,1700485571),h=g(h,k,l,n,f[a+3],10,2399980690),n=g(n,h,k,l,f[a+10],15,4293915773),l=g(l,n,h,k,f[a+1],21,2240044497),k=g(k,l,n,h,f[a+8],6,1873313359),h=g(h,k,l,n,f[a+15],10,4264355552),n=g(n,h,k,l,f[a+6],15,2734768916),l=g(l,n,h,k,f[a+13],21,1309151649),k=g(k,l,n,h,f[a+4],6,4149444226),h=g(h,k,l,n,f[a+11],10,3174756917),n=g(n,h,k,l,f[a+2],15,718787259),l=g(l,n,h,k,f[a+9],21,3951481745),k=b(k,r),l=b(l,A),n=b(n,u),h=b(h,v);return(p(k)+p(l)+p(n)+p(h)).toLowerCase()};this.getPageviewIDAI=function(){if(null!=("undefined"!==typeof window&&null!==window?window._ispv:void 0))return"undefined"!==typeof window&&null!==window?window._ispv:void 0;"undefined"!==typeof window&&null!==window&&(window._ispv=(new Date).getTime());return"undefined"!==typeof window&&null!==window?window._ispv:void 0};this._ea_get_utm=function(){var a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};try{var b=window.location.href;if(0<b.indexOf("utm_"))return a={source:window._cdpEventFunction.getURLParameter("utm_source"),medium:window._cdpEventFunction.getURLParameter("utm_medium"),campaign:window._cdpEventFunction.getURLParameter("utm_campaign"),content:window._cdpEventFunction.getURLParameter("utm_content"),term:window._cdpEventFunction.getURLParameter("utm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"};if(0<b.indexOf("code_chanel"))return a={source:window._cdpEventFunction.getURLParameter("code_chanel"),medium:"",campaign:window._cdpEventFunction.getURLParameter("id_campaign"),content:window._cdpEventFunction.getURLParameter("id_landingpage"),term:window._cdpEventFunction.getURLParameter("id"),type:"direct",time:(new Date).getTime(),checksum:""},a.checksum=_ea_utm_checksum(a),a;if(0<b.indexOf("itm_"))return a={source:window._cdpEventFunction.getURLParameter("itm_source"),medium:window._cdpEventFunction.getURLParameter("itm_medium"),campaign:window._cdpEventFunction.getURLParameter("itm_campaign"),content:window._cdpEventFunction.getURLParameter("itm_content"),term:window._cdpEventFunction.getURLParameter("itm_term"),type:"associate_itm",time:(new Date).getTime(),checksum:"",checksum:"*"};if(0<b.indexOf("doubleclick")||0<b.indexOf("gclsrc"))return a={source:"google",medium:"cpc",campaign:"DoubleClick",content:"DoubleClick",term:"DoubleClick",type:"referrer",time:(new Date).getTime(),checksum:""},a.checksum=window._cdpEventFunction._ea_utm_checksum(a),a;if(0<b.indexOf("gclid"))return a={source:"google",medium:"cpc",campaign:"adwords",content:"adwords",term:"adwords",type:"referrer",time:(new Date).getTime(),checksum:""},a.checksum=window._cdpEventFunction._ea_utm_checksum(a),a;var c=window._cdpEventFunction.getCookie("_utm_objs");if((void 0==c||""==c)&&"undefined"!==typeof Storage)try{c=window.localStorage._utm_objs}catch(d){}if(void 0!=c&&""!=c){var e=_ac_decryptBase64(c);if(void 0!=e&&""!=e){var a=JSON2.parse(e),g=window._cdpEventFunction._ea_utm_checksum(a);if(g==a.checksum||"*"==a.checksum)return a}}if("undefined"!==typeof Storage)try{if(c=window.localStorage._utm_objs,void 0!=c&&""!=c){e=_ac_decryptBase64(c);if(void 0!=e&&""!=e&&(a=JSON2.parse(e),g=window._cdpEventFunction._ea_utm_checksum(a),g!=a.checksum&&"*"!=a.checksum))return a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};var p=a.time+15552E6;if((new Date).getTime()>p)window.localStorage._utm_objs="";else{b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(f){}window._cdpEventFunction.setCookie("_utm_objs",c,15552E6,"/",b,0);return a}}}catch(r){}}catch(A){}return a};this._ea_utm_checksum=function(a){try{return _ac_encryptBase64(a.source+"-"+a.medium+"-"+a.campaign+"-"+a.time)}catch(b){}return""};this._ea_save_utm=function(a){try{var b="",c=!1,d=window.location.href;if(0<d.indexOf("utm_"))var e={source:window._cdpEventFunction.getURLParameter("utm_source"),medium:window._cdpEventFunction.getURLParameter("utm_medium"),campaign:window._cdpEventFunction.getURLParameter("utm_campaign"),content:window._cdpEventFunction.getURLParameter("utm_content"),term:window._cdpEventFunction.getURLParameter("utm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"},b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("code_chanel"))e={source:window._cdpEventFunction.getURLParameter("code_chanel"),medium:"",campaign:window._cdpEventFunction.getURLParameter("id_campaign"),content:window._cdpEventFunction.getURLParameter("id_landingpage"),term:window._cdpEventFunction.getURLParameter("id"),type:"direct",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("itm_"))e={source:window._cdpEventFunction.getURLParameter("itm_source"),medium:window._cdpEventFunction.getURLParameter("itm_medium"),campaign:window._cdpEventFunction.getURLParameter("itm_campaign"),content:window._cdpEventFunction.getURLParameter("itm_content"),term:window._cdpEventFunction.getURLParameter("itm_term"),type:"associate_itm",time:(new Date).getTime(),checksum:"",checksum:"*"},b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("doubleclick")||0<d.indexOf("gclsrc"))e={source:"google",medium:"cpc",campaign:"DoubleClick",content:"DoubleClick",term:"DoubleClick",type:"referrer",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("gclid"))e={source:"google",medium:"cpc",campaign:"adwords",content:"adwords",term:"adwords",type:"referrer",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else{var g=window._cdpEventFunction.getReferrerDomain(),p=window._cdpEventFunction.getDefaultCookieDomain(),f=window._cdpEventFunction._ea_get_utm();if(void 0!=g&&""!=g&&void 0!=p&&""!=p&&0>g.indexOf(p)||""==f.source&&void 0!=g&&""!=g&&0>g.indexOf(p)){if(d=g,g="referrer",p="","undefined"==typeof a||!a.includes(d)){if(void 0!=d&&""!=d)if(0<d.indexOf("googleadservices")||0<d.indexOf("gclid"))d="google",g="cpc",p="adwords";else if(0<d.indexOf("doubleclick")||0<d.indexOf("gclsrc"))d="google",g="cpc",p="doubleclick";e={source:d,medium:g,campaign:p,content:"",term:"",type:"referrer",time:(new Date).getTime(),checksum:""};c=!0;e.checksum=window._cdpEventFunction._ea_utm_checksum(e);b=JSON2.stringify(e)}}else""==g&&(void 0!=p&&""!=p&&""==f.source)&&(b="",c=!0)}if(c){var r=_ac_encryptBase64(b);a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(A){}window._cdpEventFunction.setCookie("_utm_objs",r,15552E6,"/",a,0);"undefined"!==typeof Storage&&(c||b)&&(window.localStorage._utm_objs=r)}}catch(u){}};this._ea_get_atm=function(){var a=window._cdpEventFunction._ea_get_atm_detail();try{if("direct"==a.type)return a;var b=window.location.href,c=0<b.indexOf("?utm_")||0<b.indexOf("&utm_"),c=c||0<b.indexOf("?itm_")||0<b.indexOf("&itm_");if(!c&&""!=a.type&&"undefined"!=typeof a.type)return a;"undefined"==typeof _ATM_TRACKING_ASSOCIATE_UTM?_ATM_TRACKING_ASSOCIATE_UTM=1:c&&(_ATM_TRACKING_ASSOCIATE_UTM=1);if(0<parseInt(_ATM_TRACKING_ASSOCIATE_UTM)){var d=window._cdpEventFunction._ea_get_utm();void 0!=d.source&&""!=d.source&&(a.source=d.source,a.time=d.time,a.type="associate_utm");a.campaign=void 0!=d.campaign&&""!=d.campaign?d.campaign:"";a.medium=void 0!=d.medium&&""!=d.medium?d.medium:"";a.content=void 0!=d.content&&""!=d.content?d.content:"";a.term=void 0!=d.term&&""!=d.term?d.term:"";a.checksum="*";window._cdpEventFunction._ea_save_atm(a);return a}}catch(e){}return a};this._ea_get_atm_detail=function(){var a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};try{if(0<window.location.href.indexOf("atm_"))return a={source:window._cdpEventFunction.getURLParameter("atm_source"),medium:window._cdpEventFunction.getURLParameter("atm_medium"),campaign:window._cdpEventFunction.getURLParameter("atm_campaign"),content:window._cdpEventFunction.getURLParameter("atm_content"),term:window._cdpEventFunction.getURLParameter("atm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"},window._cdpEventFunction._ea_save_atm(a),a;var b=window._cdpEventFunction.getCookie("_atm_objs");if((void 0==b||""==b)&&"undefined"!==typeof Storage)try{b=window.localStorage._atm_objs}catch(c){}if(void 0!=b&&""!=b){var d=_ac_decryptBase64(b);if(void 0!=d&&""!=d)return a=JSON2.parse(d),a.type="on_session",a}if("undefined"!==typeof Storage)try{if(b=window.localStorage._atm_objs,void 0!=b&&""!=b){d=_ac_decryptBase64(b);void 0!=d&&""!=d&&(a=JSON2.parse(d));var e=a.time+15552E6;if((new Date).getTime()>e)window.localStorage._atm_objs="",a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};else{d="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain)}catch(g){}window._cdpEventFunction.setCookie("_atm_objs",b,15552E6,"/",d,0);a.type="on_session"}return a}}catch(p){}}catch(f){}return a};this._ea_check_atm_save=0;this._ea_save_atm=function(a){try{if(1!=window._cdpEventFunction._ea_check_atm_save){var b=JSON2.stringify(a),c=_ac_encryptBase64(b);a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie("_atm_objs",c,15552E6,"/",a,0);window._cdpEventFunction._ea_check_atm_save=1;"undefined"!==typeof Storage&&b&&(window.localStorage._atm_objs=c)}}catch(e){}};this._ea_save_event=function(a){try{if(void 0!=a&&""!=a){var b={action:a,time:(new Date).getTime()},c=JSON2.stringify(b);key="_is_event_his";window._cdpEventFunction.setCookie(key,c,36E5,"/","",0);"undefined"!==typeof Storage&&key&&localStorage.setItem(key,_is_gc)}}catch(d){}};this._ea_get_event=function(){var a="";try{key="_is_event_his";var b="",c=window._cdpEventFunction.getCookie(key);if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{if(c=localStorage.getItem(key),void 0!=c&&""!=c){var b=JSON2.parse(c),d=b.time+36E5;(new Date).getTime()>d&&localStorage.setItem(key,"")}}catch(e){}""!=b&&(a=b.action)}catch(g){}return a};this._ea_save_click_beacon=function(a){try{if(void 0!=a&&""!=a){var b={click_bc:a,time:(new Date).getTime()},c=JSON2.stringify(b);key="_clk_bc";a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie(key,c,2592E6,"/",a,0);"undefined"!==typeof Storage&&key&&localStorage.setItem(key,c)}}catch(e){}};this._ea_get_click_beacon=function(){var a="";try{if(0<window.location.href.indexOf("_clk_bc")){var b=window._cdpEventFunction.getURLParameter("_clk_bc");if(!1!=b&&void 0!=b&&""!=b)return window._cdpEventFunction._ea_save_click_beacon(b),b}key="_clk_bc";var b="",c=window._cdpEventFunction.getCookie(key);if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{if(c=localStorage.getItem(key),void 0!=c&&""!=c){var b=JSON2.parse(c),d=eventObj.time+2592E6;(new Date).getTime()>d&&(localStorage.setItem(key,""),b="")}}catch(e){}""!=b&&(a=b.click_bc)}catch(g){}return a};this._ea_set_cdp_cusid=function(a){try{if(void 0!=a&&""!=a){var b=a.trim();a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(c){}window._cdpEventFunction.setCookie("_cdp_cusid",b,31536E6,"/",a,0);"undefined"!==typeof Storage&&localStorage.setItem("_cdp_cusid",b)}}catch(d){}};this._ea_get_cdp_cusid=function(){try{var a=window._cdpEventFunction.getCookie("_cdp_cusid");if(void 0!=a&&""!=a)return a;if("undefined"!==typeof Storage)try{if(a=localStorage.getItem("_cdp_cusid"),void 0!=a&&""!=a)return a}catch(b){}}catch(c){}return""};this._ea_set_visitorType=function(a,b){try{var c="n";0==parseInt(a)&&(c="r");var d=CDP_VISITOR_TYPE_COOKIE_NAME;window._cdpEventFunction.setCookie(d,c,2592E6,"/","",0);"undefined"!==typeof Storage&&localStorage.setItem(d,c)}catch(e){}};this._ea_get_visitorType=function(){var a="new";try{var b=CDP_VISITOR_TYPE_COOKIE_NAME,a=window._cdpEventFunction.getCookie(b);if(void 0==a||null==a||""==a||0==a)a=localStorage.getItem(b);a=void 0==a||null==a||""==a||0==a?"new":"returning"}catch(c){}return a};this.getProductEcommeceProperty=function(a){var b=a||{};try{var c=void 0!=a.name?a.name:"";""!=c&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""),100<c.length&&(c=c.substring(0,100)));b.type="product";b.name=c;b.id=void 0!=a.id?a.id:"";"undefined"!=typeof a.sku&&(b.sku=a.sku);"undefined"!=typeof a.price&&(b.price=0<parseFloat(a.price)?parseFloat(a.price):0);"undefined"!=typeof a.quantity&&(b.quantity=0<parseFloat(a.quantity)?parseFloat(a.quantity):0);"undefined"!=typeof a.currency&&(b.currency=void 0!=a.currency?a.currency:"VND");"undefined"!=typeof a.link&&(b.link=a.link,200<b.link.length&&(b.link=b.link.substring(0,200)));"undefined"!=typeof a.page_url&&(b.page_url=a.page_url,200<b.page_url.length&&(b.page_url=b.page_url.substring(0,200)));"undefined"!=typeof a.publish_date&&(b.publish_date=a.publish_date);"undefined"!=typeof a.brand&&(b.brand=a.brand);"undefined"!=typeof a.category&&(b.category=a.category);"undefined"!=typeof a.image_url&&(b.image_url=a.image_url,null!=a.image_url&&200<b.image_url.length&&(b.image_url=b.image_url.substring(0,200)));"undefined"!=typeof a.desc&&(b.desc=a.desc);"undefined"!=typeof a.variant&&(b.variant=a.variant);"undefined"!=typeof a.others&&(b.others=a.others)}catch(d){console.log("cdp log wrn product: ",a)}return b};this.getLeadFormOnEventProperty=function(a){a=a||{};a.type="lead";a.site=window._propId;var b=void 0!=a.name?a.name:"",c=void 0!=a.phone?a.phone:"",d=void 0!=a.email?a.email:"";if(""!=c||""!=d){var e=parseInt((new Date).getTime()/1E3),b=window._cdpEventFunction.md5(b+":"+c+":"+d+":"+e);a.upkey=b;a.time_in_seconds=e}if("undefined"==typeof a.id||""==a.id)a.id=a.upkey;return a};this.getItemOnEventProperty=function(a){var b=a||{},c=void 0!=a.name?a.name:"";""!=c&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""));b.name=c;b.id=void 0!=a.id?a.id:"";if(""==b.id&&("lead"==b.type||"lead"==b.item_type)){var c=void 0!=b.name?b.name:"",d=void 0!=b.phone?b.phone:"",e=void 0!=b.email?b.email:"";a=parseInt((new Date).getTime()/1E3);c=window._cdpEventFunction.md5(c+":"+d+":"+e+":"+a);b.time_in_seconds=a;b.id=c;"undefined"==typeof b.lead_time&&(b.lead_time=window._cdpEventFunction._cdpGetLeadTime());"undefined"==typeof b.lead_locate&&(b.lead_locate=window.location.href);"undefined"==typeof b.type&&(b.type=b.item_type)}return b}};var _cdpEventFunction=new window.cdpEventFunctionHelper;_cdpEventFunction.init();var _cdp_sent_sites;if("undefined"==typeof _cdp_sent_sites||null==_cdp_sent_sites)_cdp_sent_sites=[];var ai_sent_counter=0,cdp365Setting=cdp365Setting||{};window.cdp365Setting=function(){this.init=function(){window._cdp365Setting.getDataConfig()};this.getDataConfig=function(){try{var a=window._cdpEventFunction.getCookie("_cdp_cfg");if(void 0!=a&&0!=a)if("1"==a||1==a)window._cdpEventFunction._ea_save_utm();else try{var b=JSON.parse(decodeURI(a));"undefined"!=typeof b.refferal_exclusion&&window._cdpEventFunction._ea_save_utm(b.refferal_exclusion)}catch(c){}else{var d=window._portalId,e=window._propId;void 0==d&&(d=_portalId);void 0==e&&(e=_propId);var a=_CDP_LOG_TRACKING_URL+"/get_data?portal_id="+d+"&prop_id="+e+"&scope=refferal_exclusion",g=document.createElement("script");g.type="text/javascript";g.async=!0;g.src=a;var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(g,p)}}catch(f){console.log("cdp365 warning:"+f)}};this.getDataCallback=function(a){try{if("undefined"!=typeof a&&a.status&&"undefined"!=typeof a.data){var b=a.data,c=!1;"undefined"!=typeof b.refferal_exclusion&&(c=!0,window._cdpEventFunction._ea_save_utm(b.refferal_exclusion));a="1";c&&(a=window.encodeURI(JSON.stringify(b)));b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie("_cdp_cfg",a,3E5,"/",b,0)}}catch(e){console.log("cdp365 getDataCallback warning:"+e)}}};var _cdp365Setting=new window.cdp365Setting;_cdp365Setting.init();var cdp365DeliveryPush=function(a){window.cdp_delivery=window.cdp_delivery||[];window.cdp_delivery.push(a);"sandbox"==_CDP_ENV&&console.log("push event to delivery: ",a)},cdp365DeliveryCheckAndPush=function(a){try{var b=window._cdp365JourneySetting;"undefined"==typeof b&&"undefined"!=typeof _cdp365JourneySetting&&(b=_cdp365JourneySetting);var c=!0;if("undefined"!=typeof b){var d=b.jrequest_events,e=b.jrequest_zones,b=!0;try{void 0!=e&&("object"!=typeof e&&"none"==e)&&(c=b=!1)}catch(g){}if("object"==typeof d&&0<=Object.keys(d).length&&b){for(var c=!1,p=a.ec+"."+a.ea,b=0;b<d.length;b++)if(c=p==d[b].event_category+"."+d[b].event_action)b=d.length;c?("object"==typeof e&&0<=Object.keys(e).length&&(a.jrequest_zones=e),"sandbox"==_CDP_ENV&&console.log("checkSend:"+c+", cdp_event_properties: ",a),cdp365DeliveryPush(a)):console.log("cdp locked event to delivery: ",p);return}}c&&cdp365DeliveryPush(a)}catch(f){console.log("cdp365DeliveryCheckAndPush error:"+f)}};function WebAnalytics(){var a=document,b=window,c=b.encodeURIComponent,d=b.decodeURIComponent,e=_CDP_LOG_TRACKING_URL;this.setCookie=function(b,d,e,g,f,k){var l;e&&(l=new Date,l.setTime(l.getTime()+e));a.cookie=b+"="+c(d)+(e?";expires="+l.toGMTString():"")+";path="+(g||"/")+(f?";domain="+f:"")+(k?";secure":"")};this.getCookie=function(b){return(cookieMatch=RegExp("(^|;)[ ]*"+b+"=([^;]*)").exec(a.cookie))?d(cookieMatch[2]):0};var g=new Date,p=new Date,f,r=0,A,u=this.getCookie("au_id")||0,v=this.getCookie("_ac_client_id")||"",k=0,l="",n=0;this.logData=function(a,b){try{if("undefined"!=typeof _cdp_sent_sites&&-1<_cdp_sent_sites.indexOf(a))return!1;A=window._cdpEventFunction.getDefaultCookieDomain();var c=document.title,d=this.getMeta("at:title");!1!=d&&(null!=d&&"undefined"!=typeof d&&""!=d)&&(c=d);null!=c&&(""!=c&&"undefined"!=typeof c)&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""));null!=c&&(""!=c&&"undefined"!=typeof c&&200<c.length)&&(c=c.substring(0,200));void 0!=v&&""!=v&&"0"!=v||"undefined"===typeof Storage||(v=window.localStorage._ac_client_id,void 0!=v&&""!=v&&"0"!=v)||(v="");var g=this.getMeta("at:url");!1!=g&&(null!=g&&""!=g)&&_paqAcdp.push(["setCustomUrl",g]);_paqAcdp.push(["setDocumentTitle",c]);_paqAcdp.push(["setCookieDomain","*."+A]);_paqAcdp.push(["setTrackerUrl",e+"/event"]);_paqAcdp.push(["setLogEventType","pageview"]);_paqAcdp.push(["setpropId",a]);_paqAcdp.push(["setClientId",v]);_paqAcdp.push(["setPortalId",b]);if("undefined"!=typeof _cdp_default_event&&0==_cdp_default_event)return!1;window._cdpEventFunction.getPageviewIDAI();var f,k,l,n,r,c=0;k=this.getCookie("_ac_an_session");f=this.getCookie("au_id");this.getCookie("dgs");c=this.getCookie("au_aid");if("undefined"!==typeof Storage)try{0===k&&(k=window.localStorage._ac_an_session);if(void 0==f||""==f||0===f)f=window.localStorage.au_id;if(void 0==c||""==c||0===c)c=window.localStorage.au_aid;l=window.localStorage._ac_t1;"undefined"==typeof l&&(l=(new Date).getTime());n=(new Date).getTime();null===l&&(l=n);null===n&&(n=0);r=n-l;36E5<r&&(r=0)}catch(u){}var m=web_analytic.getVisitorId();if(void 0==m||""==m||"0"==m||0>=parseInt(m)||isNaN(m))m=f;_paqAcdp.push(["setUserCookieId",m]);var C=this.getMeta("at:user_id");!1==C||"%22"==C||""==C?C=web_analytic.getFirstPartyUserId():web_analytic.setFirstPartyUserId(C);(!1==C||"%22"==C||""==C||"0"==C)&&0<parseInt(c)&&(C=c);if(!1==C||"%22"==C||""==C||"0"==C)C=m;"undefined"==typeof C&&(C=0);_paqAcdp.push(["setUserId",C]);var y=window._cdpEventFunction.checkHomePage();f={};try{void 0!=_cdp365Analytics&&"object"==typeof _cdp365Analytics.extra&&(f=_cdp365Analytics.extra,f.au_id=m)}catch(t){}0===Object.keys(f).length&&f.constructor===Object&&(f={au_id:m,home:y,t1:l,t2:n,time_diff:r});void 0!=c&&0<parseInt(c)&&(f.ants_id=c);var X=this.getMeta("at:page_type");!1!=X&&(f.page_type=X);var Q=this.getMeta("at:page_cate");if(!1==Q)try{Q=ai_section_helper.getSections(),1==y&&(Q="Home")}catch(I){}!1!=Q&&(f.page_cate=Q);var z=this.getMeta("at:keywords");try{if(!1==z||""==z){var R=this.getMeta("news_keywords");!1==R||""==R?0<window.location.href.indexOf("q=")?z=window._cdpEventFunction.getURLParameter("q"):0<window.location.href.indexOf("search=")?z=window._cdpEventFunction.getURLParameter("search"):0<window.location.href.indexOf("query=")&&(z=window._cdpEventFunction.getURLParameter("query")):z=R}if(!1==z||void 0==z||""==z)z=this.getMeta("keywords")}catch(ga){}null!=z&&""!=z&&(z=_cdpEventFunction.replaceAll(z,'"',""),z=_cdpEventFunction.replaceAll(z,"&quot;",""),z=z.substring(0,150),f.keywords=z);0<window.location.href.indexOf("hash_cid=")&&(f.hash_cid=window._cdpEventFunction.getURLParameter("hash_cid"));var D=window._cdpEventFunction._ea_get_utm();void 0!=D.source&&""!=D.source&&(f.utm_source=D.source);void 0!=D.campaign&&""!=D.campaign&&(f.utm_campaign=D.campaign);void 0!=D.medium&&""!=D.medium&&(f.utm_medium=D.medium);void 0!=D.content&&""!=D.content&&(f.utm_content=D.content);void 0!=D.term&&""!=D.term&&(f.utm_term=D.term);void 0!=D.term&&""!=D.term&&(f.utm_type=D.type);l=!1;var F=this.getMeta("at:customer_id");!1!=F&&(_uidfData.customer_id=F);var H=this.getMeta("at:user_name");!1!=H&&(_uidfData.user_name=H);var w=this.getMeta("at:user_email");!1!=w&&(_uidfData.user_email=w,l=!0);var B=this.getMeta("at:user_phone");!1!=B&&(_uidfData.user_phone=B,l=!0);var aa=this.getMeta("at:user_fb_psid");!1!=aa&&(_uidfData.user_fb_psid=aa);var P=this.getMeta("at:user_gaid");!1!=P&&(_uidfData.user_gaid=P);if(l){var q=(_uidfData.user_name?_uidfData.user_name:"")+":"+(_uidfData.user_phone?_uidfData.user_phone:"")+":"+(_uidfData.user_email?_uidfData.user_email:""),q=window._cdpEventFunction.md5(q);_uidfData.upkey=q}F={extra:f,uinf:_uidfData};if("undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.default_event&&0==_cdp365Analytics.default_event)return!1;if(void 0!=_cdp365Analytics){if("undefined"!=typeof _cdp365Analytics.items){H=!1;if(void 0!=_cdp365Analytics.page&&void 0!=_cdp365Analytics.page.page_type)var J=_cdp365Analytics.page.page_type,H="product_detail"==J||"product"==J||"product_category"==J||"detail"==J||"home"==J||"category"==J||"search"==J||"article"==J||"article_category"==J;if(1<_cdp365Analytics.items.length&&H){var qa=0,ra=[];_cdp365Analytics.items.forEach(function(a){qa++;5>=qa&&ra.push({id:a.id,name:a.name,type:void 0!=a.type?a.type:a.item_type})});F.items=ra}else F.items=_cdp365Analytics.items,5<F.items.length&&(F.items=F.items.splice(0,5))}"undefined"!=typeof _cdp365Analytics.dims&&(F.dims=_cdp365Analytics.dims);"undefined"!=typeof _cdp365Analytics.page&&(f.page_type=_cdp365Analytics.page.page_type,f.page_category=_cdp365Analytics.page.page_category,F.extra=f)}window._cdpEventFunction.logInfo("log Pageview:","pageview");_cdp365SentPageviewUri=window.location.href;300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300));web_analytic.trackEventDetail("pageview","view","View Page",1,F,!1,!0);"undefined"!=typeof _cdp_sent_sites&&_cdp_sent_sites.push(a);if("undefined"!==typeof Storage)try{window.localStorage._ac_t1=p.getTime()}catch(cb){}}catch(Kb){console.log(Kb)}};this.incrCountTimeTrack=function(a){r+=a};this.getMydomain=function(){return A};this.getCountTimeTrack=function(){return r};this.getTrackingBaseUrl=function(){return e};this.getStartTime=function(){return p};this.getPageviewId=function(){return f};this.setPageviewId=function(a){f=a};this.getSessionId=function(){return n};this.setSessionId=function(a){n=a};this.setVisitorId=function(a){u=a};this.getVisitorId=function(){if("%22"==u||isNaN(u)||0>=parseInt(u))if(u=window._cdpEventFunction.getCookie("au_id")||0,0>=parseInt(u)&&"undefined"!==typeof Storage)try{u=window.localStorage.au_id}catch(a){}return u};this.getVisitorIdAsync=function(a){var b=web_analytic.getVisitorId();if("%22"==b||isNaN(b)||0>=parseInt(b))var c=setInterval(function(){b=web_analytic.getVisitorId();if("%22"!=b&&!isNaN(b)&&0<parseInt(b))return clearInterval(c),a(b)},200);return a(b)};this.resetAnonymousUId=function(){try{var a=web_analytic.getFirstPartyUserId(),b=a,c=0;void 0!=a&&0<a.indexOf("_")&&(c=parseInt(a.substring(a.indexOf("_")+1)),b=parseInt(a.substring(0,a.indexOf("_"))));firstPartyUserId=b=void 0==b||"%22"==b||""==b?window._cdpEventFunction.sha1((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,16):b+"_"+(c+1);web_analytic.setFirstPartyUserId(b);web_analytic.trackEvent("user","reset_anonymous_id",{extra:{reset_uid:a,generate_uid:b}},!1,!0)}catch(d){console.error("error:"+d)}};this.getFirstPartyUserId=function(){if("%22"==firstPartyUserId||""==firstPartyUserId)if(firstPartyUserId=window._cdpEventFunction.getCookie(CDP_UID_1ST_COOKIE_NAME)||0,(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId)&&"undefined"!==typeof Storage)try{firstPartyUserId=localStorage.getItem(CDP_UID_1ST_COOKIE_NAME)}catch(a){}if(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId){var b=0,b=window._cdpEventFunction.getCookie("au_id");if("undefined"!==typeof Storage)try{if(void 0==b||""==b||0===b)b=window.localStorage.au_aid}catch(c){}if(isNaN(b)||"%22"==b||""==b)if(b=window._cdpEventFunction.getCookie("au_aid"),"undefined"!==typeof Storage)try{if(void 0==b||""==b||0===b)b=window.localStorage.au_id}catch(d){}isNaN(b)||("%22"==b||""==b)||(firstPartyUserId=b,web_analytic.setFirstPartyUserId(firstPartyUserId))}return firstPartyUserId};this.setFirstPartyUserId=function(a){if(void 0!=a&&"%22"!=a&&""!=a){var b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(c){}window._cdpEventFunction.setCookie(CDP_UID_1ST_COOKIE_NAME,a,31104E6,"/",b,0);if("undefined"!==typeof Storage)try{localStorage.setItem(CDP_UID_1ST_COOKIE_NAME,a)}catch(d){}}firstPartyUserId=a};this.setGlobalId=function(a){k=a};this.getGlobalId=function(){return k};this.setClientIP=function(a){l=a};this.getClientIP=function(){return l};this.setTimeToSendLog=function(){g=new Date};this.getTimeToSendLog=function(){return g};this.loadScript=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.src=a;d.async=!0;d.onreadystatechange=b;d.onload=b;c.appendChild(d)};this.getMeta=function(a){var b=document.getElementsByTagName("meta");if(0<b.length)for(var c=0;c<b.length;c++)if(null!=b[c].getAttribute("name")&&b[c].getAttribute("name").toLowerCase()==a.toLowerCase())return b[c].getAttribute("content");return!1};this.trackingPageview=function(){try{var a=web_analytic.getTimeToSendLog().getTime()+3E3;(new Date).getTime()<a||30<ai_sent_counter?web_analytic.setTimeToSendLog():(web_analytic.setTimeToSendLog(),ai_sent_counter++,_cdp_sent_sites=[],web_analytic.logData(window._propId,1))}catch(b){}};this.trackLeadForm=function(a,b,c,d,e,g){window._cdpEventFunction.logInfo("leadFormProperties:",e);window._cdpEventFunction.logInfo("eventProperties:",e);var f=[],l="";if("undefined"!==typeof e)if("undefined"!==typeof e.items&&Array.isArray(e.items))[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("lead_item:",a);a=window._cdpEventFunction.getLeadFormOnEventProperty(a);f.push(a);"undefined"!=typeof a.upkey&&(l=a.upkey)});else if("undefined"!==typeof e.item&&0==Object.keys(e.item).length){var k=window._cdpEventFunction.getLeadFormOnEventProperty(item);f.push(k);"undefined"!=typeof k.upkey&&(l=k.upkey)}window._cdpEventFunction.logInfo("leadForm. items:",f);e={items:f,extra:void 0!=e.extra?e.extra:{},uinf:void 0!=e.uinf?e.uinf:{}};""!=l&&(e.profileKey=l);web_analytic.trackEventDetail(a,b,c,d,e,g)};this.trackEcommerce=function(a,b,c,d,e,g){var f=web_analytic.getSessionId();"undefined"===typeof f&&(f=0);var l=[],k=0;if("undefined"!==typeof e)if("undefined"!==typeof e.items&&Array.isArray(e.items)){var n=0,p=!1;[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("e_item:",a);if(n<=MAX_LENGTH_HTTP_REQUEST){if(a=window._cdpEventFunction.getProductEcommeceProperty(a),null!=a&&(void 0!=a.id&&""!=a.id)&&(l.push(a),n+=window.encodeURI(JSON.stringify(a,null,0)).length),0<a.price){var b=a.quantity;0>=b&&(b=1);k+=parseFloat(b*a.price)}}else p=!0});p&&(l=[],k=0,[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("e_item:",a);var b=window._cdpEventFunction.getProductEcommeceProperty(a);if(null!=b&&void 0!=b.id&&""!=b.id){var c={};Object.keys(b).forEach(function(a,d){0<=a.indexOf("image")||0<=a.indexOf("url")||0<=a.indexOf("uri")||null==b[a]||200<b[a].length||(c[a]=b[a])});l.push(c)}0<b.price&&(a=b.quantity,0>=a&&(a=1),k+=parseFloat(a*b.price))}))}else if("undefined"!==typeof e.item&&0==Object.keys(e.item).length){if(f=window._cdpEventFunction.getProductEcommeceProperty(item),l.push(f),0<f.price){var m=f.quantity;0>=m&&(m=1);k+=parseFloat(m*f.price)}}else"undefined"!==typeof e.ids&&Array.isArray(e.ids)&&[].forEach.call(e.ids,function(a){l.push({id:a,name:""})});f=e.extra||{};void 0==e.extra||""==e.extra?f={revenue:0<parseFloat(e.revenue)?e.revenue:k,currency:void 0!=e.currency?e.currency:"",order_id:void 0!=e.order_id?e.order_id:""}:(f.revenue=0<parseFloat(f.revenue)?f.revenue:k,f.currency=void 0!=f.currency?f.currency:"",f.order_id=void 0!=f.order_id?f.order_id:"");m="";if("purchase"==b){if(void 0==f.transaction_id||""==f.transaction_id)m="ts_"+(new Date).getTime(),f.transaction_id=m;try{if(m=!1,void 0!=e.dims&&void 0!=e.dims.purchase&&(m=!0),!m&&"undefined"!=typeof f.order_id&&""!=f.order_id){var r="undefined"!=typeof f.identify_id?f.identify_id:f.customer_id,y="undefined"!=typeof f.identify_name?f.identify_name:f.customer_name,t="undefined"!=typeof f.identify_email?f.identify_email:f.email,v="undefined"!=typeof f.identify_phone?f.identify_phone:f.phone,u={id:f.order_id,name:"#"+f.order_id,order_id:f.order_id,revenue:f.revenue,num_items:f.num_items};"undefined"!=typeof f.discount_amount&&""!=f.discount_amount&&(u.discount_amount=f.discount_amount);"undefined"!=typeof f.promotion_code&&""!=f.promotion_code&&(u.promotion_code=f.promotion_code);void 0!=r&&""!=r&&(u.customer_id=r);void 0!=y&&""!=y&&(u.customer_name=y);void 0!=t&&""!=t&&(u.customer_email=t);void 0!=v&&""!=v&&(u.customer_phone=v);"undefined"!==typeof e.dims?e.dims.purchase=u:e.dims={purchase:u}}}catch(A){}}r=e.dims||{};"undefined"!==typeof e.lead&&(y=window._cdpEventFunction.getLeadFormOnEventProperty(e.lead),r.lead=y);web_analytic.trackEventDetail(a,b,c,d,{items:l,extra:f,uinf:e.uinf,dims:r},g)};this.trackEventDetail=function(a,b,c,d,f,g,l){var k=web_analytic.getPageviewId();window._cdpEventFunction.logInfo("trackEventDetail. pv1",k);window._cdpEventFunction.logInfo("eventCategory:",a);var n=!0;"undefined"===typeof k&&"undefined"!==typeof pv_id&&(k=pv_id);if("undefined"===typeof k&&"pageview"!=a){if("undefined"!==typeof g&&g)var p=0,r=setInterval(function(){p++;if("undefined"!=typeof web_analytic.getPageviewId()||20<=p)web_analytic.trackEventDetail(a,b,c,d,f,!1,l),clearInterval(r)},200)}else if("pageview"==a&&(k="",n=!0),window._cdpEventFunction.logInfo("trackEventDetail. pv2",k),g=a+":"+b+":"+c,web_analytic.currEvent!==g+":"+k||n){var m=web_analytic.getSessionId();"undefined"===typeof m&&(m=0);window._cdpEventFunction._ea_get_event();var v=f.items,y=f.extra||{},n=f.uinf||_uidfData,t=f.dims||{};("object"!==typeof y||""==y||null==y||0>=Object.keys(y).length)&&"undefined"!=typeof _cdp365Analytics.extra&&(y=_cdp365Analytics.extra);if("undefined"!==typeof f.lead){var u=window._cdpEventFunction.getLeadFormOnEventProperty(f.lead);t.lead=u}void 0!=f.profileKey&&""!=f.profileKey&&(n.upkey=f.profileKey);y.pv_id=k;y.session_id=m;y.prop_id=window._propId;y.visitor_type=window._cdpEventFunction._ea_get_visitorType();m=_cdpEventFunction.checkIsWebview();y.is_webview=m;m=window.location.href;200<m.length&&(m=m.substring(0,200));void 0!=m&&""!=m&&(0<=m.indexOf('"')&&(m=_cdpEventFunction.replaceAll(m,'"',"'")),0<=m.indexOf("%22")&&(m=_cdpEventFunction.replaceAll(m,"%22","'")));y.location_url=m;void 0!=document.referrer&&""!=document.referrer&&(m=document.referrer,200<m.length&&(m=m.substring(0,200)),void 0!=m&&""!=m&&(0<=m.indexOf('"')&&(m=_cdpEventFunction.replaceAll(m,'"',"'")),0<=m.indexOf("%22")&&(m=_cdpEventFunction.replaceAll(m,"%22","'"))),y.referrer_url=m);m=window._cdpEventFunction._ea_get_click_beacon();void 0!=m&&""!=m&&(y.click_bc=m);m=this.getMeta("at:page_cate");if(!1==m)try{m=ai_section_helper.getSections(),1==checkHomePage&&(m="Home")}catch(A){}m=window._cdpEventFunction._ea_get_utm();void 0!=m.source&&""!=m.source&&(y.utm_source=m.source);void 0!=m.campaign&&""!=m.campaign&&(y.utm_campaign=m.campaign);void 0!=m.medium&&""!=m.medium&&(y.utm_medium=m.medium);void 0!=m.content&&""!=m.content&&(y.utm_content=m.content);void 0!=m.term&&""!=m.term&&(y.utm_term=m.term);void 0!=m.type&&""!=m.type&&(y.utm_type=m.type);m=window._cdpEventFunction._ea_get_atm();void 0!=m.source&&""!=m.source&&(y.atm_source=m.source);void 0!=m.campaign&&""!=m.campaign&&(y.atm_campaign=m.campaign);void 0!=m.medium&&""!=m.medium&&(y.atm_medium=m.medium);void 0!=m.content&&""!=m.content&&(y.atm_content=m.content);void 0!=m.term&&""!=m.term&&(y.atm_term=m.term);void 0!=m.type&&""!=m.type&&(y.atm_type=m.type);window._cdpEventFunction.logInfo("trackEventDetail. extraData:",y);var I=web_analytic.getFirstPartyUserId();void 0!=I&&("%22"!=I&&""!=I)&&_paqAcdp.push(["setUserId",I]);try{m="";u={};"undefined"!=typeof t.customers?(u=t.customers,m=u.customer_id):"undefined"!=typeof y.customer_id?m=y.customer_id:"undefined"!=typeof y.identify_id?m=y.identify_id:"undefined"!=typeof y.identity_id?m=y.identity_id:"undefined"!=typeof n.customer_id&&(m=n.customer_id);var z=null!=m&&1<=m.length&&200>m.length;if(z)window._cdpEventFunction._ea_set_cdp_cusid(m),y.identify_type="exact";else if(m=window._cdpEventFunction._ea_get_cdp_cusid(),z=null!=m&&1<=m.length&&200>m.length)y.identify_type="predict";z&&(u&&0<Object.keys(u).length&&Object.getPrototypeOf(u)===Object.prototype?u.customer_id=m:u={customer_id:m});u&&(0<Object.keys(u).length&&Object.getPrototypeOf(u)===Object.prototype)&&(t.customers=u)}catch(R){console.log("cdp sdk error:",R)}_paqAcdp.push(["setTrackerUrl",e+"/event"]);_paqAcdp.push(["setLogEventType","event"]);_paqAcdp.push(["trackEvent",a,b,c,d,v,y,n,t,l]);web_analytic.currEvent=g+":"+k;try{if(!1==I||void 0==I||null==I||"%22"==I||""==I||"0"==I)web_analytic.getVisitorIdAsync(function(c){I=c;c=window._propId;"undefined"!=typeof y&&("undefined"!=typeof y.cdp_property_id&&0<parseInt(y.cdp_property_id))&&(c=y.cdp_property_id);"undefined"!==typeof I&&(c={portal_id:window._portalId,prop_id:c,uid:I,ec:a,ea:b,items:v,dims:t,extra:y},"function"==typeof cdp365DeliveryCheckAndPush&&cdp365DeliveryCheckAndPush(c),"function"==typeof _cdpEventCallbackListener&&_cdpEventCallbackListener(c))});else{var ga=window._propId;"undefined"!=typeof y&&("undefined"!=typeof y.cdp_property_id&&0<parseInt(y.cdp_property_id))&&(ga=y.cdp_property_id);var D={portal_id:window._portalId,prop_id:ga,uid:I,ec:a,ea:b,items:v,dims:t,extra:y};"function"==typeof cdp365DeliveryCheckAndPush&&cdp365DeliveryCheckAndPush(D);"function"==typeof _cdpEventCallbackListener&&_cdpEventCallbackListener(D);if("object"==typeof _cdpRegisterFunctionCallback&&Array.isArray(_cdpRegisterFunctionCallback)){var F=0;[].forEach.call(_cdpRegisterFunctionCallback,function(a){"function"==eval("typeof "+a)&&3>F&&a(D);F++})}}}catch(H){}try{window.postMessage({eventChannel:"cdp_events_listen",eventCate:a,eventAction:b,eventData:{items:v,dims:t,extra:y}})}catch(w){}}else window._cdpEventFunction.logInfo("trackEventDetail. return. isCommited:",n)};this.trackEvent=function(a,b,c,d,e){if(!("undefined"===typeof a||""==a||1>=a.length)){"undefined"!=typeof a&&70<a.length&&(a=a.substring(0,70));"undefined"===typeof b||""==b||1>=b.length?"undefined"!==typeof c&&(""!=c&&0!=Object.keys(c).length)&&(b=void 0!=c.action?c.action:""):"undefined"!==typeof b&&70<b.length&&(b=b.substring(0,70));if("undefined"===typeof b||""==b||1>=b.length)b="default";e="";var f=0;"undefined"===typeof c||""==c||0==Object.keys(c).length?e=b+" "+a:(e=void 0!=c.name?c.name:"",f=void 0!=c.revenue?0<parseFloat(c.revenue)?c.revenue:0:void 0!=c.value?c.value:0);"undefined"===typeof e||""==e||1>=e.length?e="":"undefined"!==typeof e&&30<e.length&&(e=e.substring(0,30));window._cdpEventFunction.logInfo("eventCategory:",a);if("product"==a)web_analytic.trackEcommerce(a,b,e,f,c,d);else if("lead"==a)web_analytic.trackLeadForm(a,b,e,f,c,d);else{var g=[];if("undefined"!==typeof c)if("undefined"!==typeof c.items&&Array.isArray(c.items)){var k=0,l=!1;[].forEach.call(c.items,function(a){window._cdpEventFunction.logInfo("item:",a);k<=MAX_LENGTH_HTTP_REQUEST?(a=window._cdpEventFunction.getItemOnEventProperty(a),null!=a&&(void 0!=a.id&&""!=a.id)&&(g.push(a),k+=window.encodeURI(JSON.stringify(a,null,0)).length)):l=!0});l&&(g=[],[].forEach.call(c.items,function(a){window._cdpEventFunction.logInfo("item:",a);var b=window._cdpEventFunction.getItemOnEventProperty(a);if(null!=b&&void 0!=b.id&&""!=b.id){var c={};Object.keys(b).forEach(function(a,d){0<=a.indexOf("image")||0<=a.indexOf("url")||0<=a.indexOf("uri")||null==b[a]||200<b[a].length||(c[a]=b[a])});g.push(c)}}))}else if("undefined"!==typeof c.item&&0==Object.keys(c.item).length){var n=window._cdpEventFunction.getItemOnEventProperty(item);g.push(n)}n={items:g};"undefined"!==typeof c&&(n.extra="undefined"!==typeof c.extra?c.extra:"",n.dims="undefined"!==typeof c.dims?c.dims:"",n.uinf="undefined"!==typeof c.uinf?c.uinf:"");web_analytic.trackEventDetail(a,b,e,f,n,d)}}}}var _event_callback_data=function(a){var b=a.au_id,c=a.au_gt,d=a.dgs,e=a.client_id,g=a.an_session,p=a.pv_id;web_analytic.setPageviewId(p);web_analytic.setVisitorId(b);try{if(void 0!=a._clk_url){void 0!=a._clk_bc&&window._cdpEventFunction._ea_save_click_beacon(a._clk_bc);var f=a._clk_target;_cdp365ClickRedirectUri=1;void 0!=f&&"_blank"==f?window.open(a._clk_url,f):(window.location.href=a._clk_url,f="n/a");console.log("cdp365 has tracked clicked via redirect_url:"+a._clk_url+", click_bc:"+a._clk_bc+", click_target: "+f+", redirected:"+_cdp365ClickRedirectUri)}void 0!=e&&window._cdpEventFunction.setCookie("_ac_client_id",e,63072E6,"/",A,0);void 0!=a.networks&&web_analytic.setClientIP(a.networks.client_ip);void 0!=a.session_id&&web_analytic.setSessionId(a.session_id);void 0!=a._clk_bc&&window._cdpEventFunction._ea_save_click_beacon(a._clk_bc);void 0!=a.n_user&&window._cdpEventFunction._ea_set_visitorType(a.n_user,a.session_id)}catch(r){}var e=new Date,A="."+window._cdpEventFunction.getDefaultCookieDomain();window._cdpEventFunction.setCookie("_ac_an_session",g,63072E6,"/",A,0);0==b||0!==window._cdpEventFunction.getCookie("au_id")&&window._cdpEventFunction.getCookie("au_id")==b||(window._cdpEventFunction.setCookie("au_id",b,63072E6,"/",A,0),"undefined"!==typeof Storage&&(window.localStorage.au_id=b));"undefined"!==typeof d&&""!==d&&window._cdpEventFunction.setCookie("_acdp_dgs",d,63072E6,"/",A,0);b=window._cdpEventFunction.getCookie("_ac_au_gt");"undefined"!==typeof b&&0!==b&&""!==b||window._cdpEventFunction.setCookie("_ac_au_gt",c,63072E6,"/",A,0);"undefined"!==typeof Storage&&(a.pvId&&(window.localStorage._ac_pv=p),a.eatv&&(window.localStorage._ac_eatv=a.eatv),a.an_session&&(window.localStorage._ac_an_session=a.an_session),a.client_id&&(window.localStorage._ac_client_id=a.client_id),a.au_gt&&""!=a.au_gt&&(window.localStorage._ac_au_gt=a.au_gt),window.localStorage._ac_t1=e.getTime())},cdp_no_tracking=function(){try{if(1132==window._portalId&&0<=window.location.href("pnjvn.com"))return 1}catch(a){}return 0},web_analytic=new WebAnalytics,_cdp_event_function_loader=function(){try{"undefined"!=typeof window._propId&&0!=_propId||"undefined"==typeof web_event.propId||(_propId=web_event.propId),"undefined"!=typeof window._portalId&&0!=_portalId||"undefined"==typeof web_event._portalId||(_portalId=web_event.portalId),1!=cdp_no_tracking()&&web_analytic.logData(window._propId,window._portalId)}catch(a){}};_cdp_event_function_loader();web_event.track=function(a,b,c){var d="pageview"==a&&"view"==b;window.location.href.indexOf(_cdp365SentPageviewUri);var e=!0;"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.default_event&&0==_cdp365Analytics.default_event&&(e=!1);var g=!1;"undefined"!=typeof c&&"undefined"!=typeof c.custom_event&&1==c.custom_event&&(g=!0);var p=""!=_cdp365SentPageviewUri&&d;p&&g?p=_cdp365SentPageviewUri==window.location.href?!0:!1:p&&e&&(p=!0);if(p)console.log("cdp365 has locked the default event");else{try{if(d&&"undefined"!=typeof _cdp365Analytics){if(null==c||void 0==c)c={};"undefined"!=typeof _cdp365Analytics.extra&&(c.extra=_cdp365Analytics.extra);"undefined"!=typeof _cdp365Analytics.page&&("undefined"==typeof _cdp365Analytics.extra&&(c.extra={}),"undefined"!==typeof _cdp365Analytics.page.page_type&&(c.extra.page_type=_cdp365Analytics.page.page_type),"undefined"!==typeof _cdp365Analytics.page.page_type&&(c.extra.page_category=_cdp365Analytics.page.page_category));"undefined"!=typeof _cdp365Analytics.items&&(c.items=_cdp365Analytics.items);"undefined"!=typeof _cdp365Analytics.dims&&(c.dims=_cdp365Analytics.dims)}_cdp365SentPageviewUri=window.location.href;300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300))}catch(f){console.log("cdp log",f)}web_analytic.trackEvent(a,b,c,!0,!0)}};web_event.resetAnonymousUId=function(){web_analytic.resetAnonymousUId()};var _isLoadEventsOnQueueAndTrack=function(){try{if("undefined"!=typeof window.web_event){var a=window.web_event.queue,b=window.web_event.locked;if("undefined"!==typeof a&&Array.isArray(a)&&!b){var c=web_analytic.getPageviewId(),b=1E3;void 0!=c&&""!=c&&(b=100);setTimeout(function(){for(window.web_event.locked=!0;a.length;)if(0<a.length){var b=a.shift();window._cdpEventFunction.logInfo("item:",b);var c=b[0];3>b.length||"track"!=c||(3==b.length?web_analytic.trackEvent(b[1],b[2],!1,!0):3<b.length&&web_analytic.trackEvent(b[1],b[2],b[3],!1,!0))}window.web_event.locked=!1},b)}}}catch(d){}},_cdp365PushEventTracker=function(){console.log("_cdp365PushEventTracker called");return _isLoadEventsOnConfigAndTrack()},_isLoadEventsOnConfigAndTrack=function(){try{if("undefined"!=typeof window._cdp365Analytics&&"undefined"!=typeof window._cdp365Analytics.track){var a=_cdp365Analytics.track,b=window.web_event.locked;if("undefined"!==typeof a&&Array.isArray(a)&&!b){var c=web_analytic.getPageviewId(),b=1E3;void 0!=c&&""!=c&&(b=100);setTimeout(function(){for(window.web_event.locked=!0;a.length;)if(0<a.length){var b=a.shift();window._cdpEventFunction.logInfo("item:",b);if(!(2>b.length)){var c=b[0],d=b[1],f={},r="pageview"==c&&"view"==d,A=window.location.href;300<A.length&&(A=A.substr(0,300));if(A==_cdp365SentPageviewUri&&r)console.log("cdp365 locked the default event 2");else{r&&(_cdp365SentPageviewUri=window.location.href,300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300)));2<b.length&&"undefined"!=typeof b[2].extra&&(f=b[2].extra);b={};if("undefined"!=typeof _cdp365Analytics.items)if(r=!1,void 0!=_cdp365Analytics.page&&void 0!=_cdp365Analytics.page.page_type&&(r=_cdp365Analytics.page.page_type,r="product_detail"==r||"product"==r||"product_category"==r||"detail"==r||"home"==r||"category"==r||"search"==r||"article"==r||"article_category"==r),1<_cdp365Analytics.items.length&&r){var u=0,v=[];_cdp365Analytics.items.forEach(function(a){u++;5>=u&&v.push({id:a.id,name:a.name,type:void 0!=a.type?a.type:a.item_type})});b.items=v}else b.items=_cdp365Analytics.items,5<b.items.length&&(b.items=b.items.splice(0,5));"undefined"!=typeof _cdp365Analytics.dims&&(b.dims=_cdp365Analytics.dims);("object"!==typeof f||""==f||null==f||0>=Object.keys(f).length)&&"undefined"!=typeof _cdp365Analytics.extra&&(f=_cdp365Analytics.extra);"undefined"!=typeof _cdp365Analytics.page&&(f.page_type=_cdp365Analytics.page.page_type,f.page_category=_cdp365Analytics.page.page_category);if("object"==typeof _cdp365Analytics.order){var r=_cdp365Analytics.order,k;for(k in r)r.hasOwnProperty(k)&&(f[k]=r[k])}b.extra=f;web_analytic.trackEvent(c,d,b,!1,!0)}}}window.web_event.locked=!1},b)}}}catch(d){}},_loadPageAndTrackEventAsync=function(){_isLoadEventsOnQueueAndTrack();_isLoadEventsOnConfigAndTrack();var a=0,b=setInterval(function(){_isLoadEventsOnQueueAndTrack();_isLoadEventsOnConfigAndTrack();a++;5<a&&clearInterval(b)},2E3)};_loadPageAndTrackEventAsync();var _isLoadScript=function(a){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=a;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)};Date.prototype.toScriptVersionFormat=function(){var a=this.getDate(),b=this.getMonth(),c=this.getFullYear(),d=this.getHours();return c+""+b+""+a+""+d};var _cdp_delivery=function(){try{var a=!1;"sandbox"==_CDP_ENV?a=!0:"561236459"==window._portalId?a=!0:"564467023"==window._portalId?a=!0:"564888548"==window._portalId?a=!0:"undefined"!=typeof _CDP_DELIVERY_TRIGGER&&_CDP_DELIVERY_TRIGGER&&(a=!0);var b=b||window._portalId;"undefined"!=typeof window._portalId&&(b=window._portalId);if("undefined"==typeof b||0==b)a=!1;1==cdp_no_tracking()&&(a=!1);if(a){var c=_CDP_DELIVERY_URL+"/"+b+".js?f=1&v="+(new Date).toScriptVersionFormat(),d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=c;el=document.getElementsByTagName("script")[0];el.parentNode.insertBefore(d,el);window.cdp_delivery=window.cdp_delivery||[]}}catch(e){}};_cdp_delivery();_cdpOnMessage=function(){try{window.addEventListener("message",function(a){a=a.data;var c=a.eventChannel;"undefined"!=typeof c&&"cdp_tracking"==c&&web_event.track(a.eventCate,a.eventAction,a.eventData)})}catch(a){}};_cdpOnMessage();var _cdp365ElementClickPixel=function(a,b,c){try{if("undefined"==typeof a)console.log("clickLink is NOT correct");else if("undefined"==typeof b)console.log("clickData is NOT correct"),window.location=a;else{b=b.replace("&resp_type=pixel","&resp_type=javascript");var d=0;0>a.indexOf(window.location.hostname)&&(d=1);0<a.indexOf("?")&&0<a.indexOf("&")&&(a=window.encodeURIComponent(a));a=_CDP_LOG_TRACKING_URL+"/event?"+b+"&redirect_url="+a+"&is_ext_url="+d;void 0!=c&&""!=c&&(a+="&clk_target="+c);_cdp365ClickRedirectUri=0;var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=a;var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}}catch(p){console.log("cdp ex:",p)}},_cdp365ElementClickTrigger=function(){try{for(var a=document.getElementsByClassName("cdp365-element-link"),b=0;b<a.length;b++)a[b].onclick=function(a){var b=this.getAttribute("href");a=window.decodeURI(this.getAttribute("cdp365-click-data"));var c=this.getAttribute("target");_cdp365ElementClickPixel(b,a,c);setTimeout(function(){0==_cdp365ClickRedirectUri&&(void 0!=c&&"_blank"==c?window.open(b,c):window.location.href=b)},2E3);return!1}}catch(c){console.log("cdp ex:",c)}},_cdp365ElementClickListener=function(){try{var a=0,b=0;_cdp365ElementClickTrigger();var c=setInterval(function(){var d=document.getElementsByClassName("cdp365-element-link").length,g=a!=d;window._cdp365ElementLinkChanged&&(g=!0,window._cdp365ElementLinkChanged=!1);g&&_cdp365ElementClickTrigger();a=d;b++;120<b&&clearInterval(c)},500)}catch(d){console.log("cdp ex:",d)}};_cdp365ElementClickListener();var _cdp365AddOnsListener=function(){try{setTimeout(function(){var a=window._cdp365AddOns;try{if(!("undefined"==typeof a||"object"!=typeof a||0>=Object.keys(a).length)){var a=_CDP_STATIC_FILE_URL+"/cdp_addons.js",c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}catch(e){}},1E3)}catch(a){console.log("cdp ex:",a)}};_cdp365AddOnsListener();var _cdp365CustomEventLoader=function(){try{if(!(!1==_CDP_CUSTOM_EVENT||""==_CDP_CUSTOM_EVENT_URL||1>_CDP_CUSTOM_EVENT_URL.length)){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=_CDP_CUSTOM_EVENT_URL;var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}catch(c){console.log("cdp ex:",c)}};_cdp365CustomEventLoader();